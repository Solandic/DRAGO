!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.viewerScript=t():e.viewerScript=t()}(self,(()=>(()=>{var e={186:(e,t)=>{"use strict";t.wn=t.xA=t.rH=t.Kh=t.ZJ=t.tt=t.DI=t.sV=t.dn=void 0,t.AV=t.qq=void 0,t.dn="14bcded7-0066-7c35-14d7-466cb3f09103",t.sV="140603ad-af8d-84a5-2c80-a0f60cb47351",t.DI="13d21c63-b5ec-5912-8397-c3a5ddb27a97",t.tt="14724f35-6794-cd1a-0244-25fd138f9242",t.ZJ="1380b703-ce81-ff05-f115-39571d94dfcd",t.Kh="14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",t.rH="b976560c-3122-4351-878f-453f337b7245",t.xA="14dbefd2-01b4-fb61-32a7-3abd44da4908",t.wn="14f25924-5664-31b2-9568-f9c5ed98c9b1",t.qq="148c2287-c669-d849-d153-463c7486a694",t.AV="1537b24e-29d1-6d8f-b8e1-d6860f2f70b9";var n={}},213:(e,t,n)=>{var r=n(174);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},662:(e,t,n)=>{var r=n(114).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},174:(e,t,n)=>{var r=n(114).default,i=n(662);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},114:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="https://static.parastorage.com/services/santa-members-viewer-app/5d3f2fb8c82b4e29e71f53c5169d33b84e492d3d004c5c2582422264/";var r={};return(()=>{"use strict";n.r(r),n.d(r,{createControllers:()=>Iu,exports:()=>bu,initAppForPage:()=>_u});var e={};n.r(e),n.d(e,{default:()=>Gn});var t={};n.r(t),n.d(t,{default:()=>Ta});var i={};n.r(i),n.d(i,{default:()=>ka});var o={};n.r(o),n.d(o,{exports:()=>Za,initAppForPage:()=>Xa});var s="BLOCKS_WIDGET",a=["ar","arc","bcc","bqi","ckb","dv","fa","glk","ha","he","khw","ks","ku","mzn","pnb","ps","sd","ug","ur","yi"];var u=function(e){return e},l=function(e){var t=e.dsn,n=e.environment,r=e.release,i=e.withDataCallback,o=e.tags;return{dsn:t,config:{enabled:!0,release:r,dataCallback:i?u:void 0,environment:n,tags:o}}},c=function(e){return e.isEnabled&&e.currentLanguage?e.currentLanguage:void 0},f=function(){return n.p},d=function(e){return void 0===e&&"undefined"!=typeof window&&(e=window.location.search),new URLSearchParams(e)},p=function(e){return e&&e.split("-")[0]},h=function(e,t,n){var r=c(e.multilingual),i=t.language;if(n){var o=d().get("regionalLanguage");o&&(i=o)}return r||i||"en"},g=function(e){return"backend"===e.rendering.env},v=function(e){return e.isInSEO()},m=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},_=function(){throw new Error("Translations has not been initialized yet")},y=function(e){var t=e.language,r=e.defaultTranslations,i=e.prefix,o=void 0===i?"messages":i,s=e.defaultLanguage,a=e.availableLanguages,u=e.localeDistPath,l=e.initI18n,c=e.basePath,f=this;this.t=_,this.all={},this.init=function(e){var t=void 0===e?{}:e,r=t.prepopulated,i=t.wait,o=void 0!==i&&i,s=t.useSuspense,a=void 0!==s&&s;return m(f,void 0,void 0,(function(){var e,t,i,s=this;return b(this,(function(u){switch(u.label){case 0:if(e=this.config,t=new Set(e.availableLanguages||[]),!this._initI18n)throw new Error("Can't initialize i18n without initI18n method.");return this.i18n=this._initI18n({locale:e.language,useSuspense:a,wait:o,messages:r,disableAutoInit:!0,asyncMessagesLoader:function(r){var i;return"en"===r?Promise.resolve(e.defaultTranslations):t.has(r)?fetch("".concat(null!==(i=s.basePath)&&void 0!==i?i:n.p).concat(s.localeDistPath,"/").concat(e.prefix,"_").concat(r,".json")).then((function(t){return t.ok?t.json():Promise.reject(new Error("Can't load locale: ".concat(e.language)))})):Promise.reject(new Error("Locale assets for ".concat(r," are not provided")))}}),[4,this.i18n.init()];case 1:if(u.sent(),!(i=this.i18n.getResourceBundle(e.language,"translation"))&&t.has(e.language))throw new Error("Unexpected missing translations for language ".concat(e.language));return this.all=i||e.defaultTranslations||{},this.t=function(e,t){return s.i18n.t(e,t)},[2,this]}}))}))},this.config={availableLanguages:a,language:p(t),defaultTranslations:r,prefix:o,defaultLanguage:s},this.localeDistPath=u,this._initI18n=l,this.i18n=null,this.basePath=c},w=function(e){var t;this.entry="viewerScript";var n,r=e.seoAPI,i=e.windowAPI,o=e.siteAPI,s=e.appData;this.isSSR="backend"===i.rendering.env,this.isSEO=v(r),this.isMobile="Mobile"===i.formFactor,this.isEditor="Editor"===i.viewMode,this.isPreview="Preview"===i.viewMode,this.isViewer="Site"===i.viewMode,this.isBlocksPreview=Boolean(null===(t=null==s?void 0:s.appData)||void 0===t?void 0:t.blocksPreviewData),this.language=h(i,o,this.isEditor),this.isRTL=(n=this.language,a.includes(p(n))),this.multilingual=i.multilingual,this.appDefinitionId=s.appDefinitionId},P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},P.apply(this,arguments)},S=function(e,t){var n={};return e.visitorId?n.forSiteVisitors=P(P({},e),{visitorId:e.visitorId}):n.forSiteOwner=P(P({},e),{loggedInUserId:e.loggedInUserId}),t&&(n.overrideCriteria=t),n},I=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},A=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};var C,x,M=function(){function e(e){var t=e.httpClient;this.reportError=function(e){console.warn("You are trying to report an error, but didn't configure sentry in `.application.json`\n\nPlease read the docs for more information https://bo.wix.com/pages/yoshi/docs/editor-flow/structure-api/app-configuration/#applicationjson","Error: ",e)},this._httpClient=t}return Object.defineProperty(e.prototype,"httpClient",{get:function(){var e=this._httpClient;return e},enumerable:!1,configurable:!0}),e}(),R=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},O.apply(this,arguments)},E=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},N=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},D=function(e){function t(t){var n,r,i,o,s=t.experimentsConfig,a=t.essentials,u=t.platformBI,c=t.biLoggerFactory,f=t.monitoring,d=t.sentryConfig,p=t.windowAPI,m=t.seoAPI,b=t.siteAPI,_=t.userAPI,P=t.appData,C=t.translationsConfig,x=t.defaultTranslations,M=void 0===x?null:x,R=t.biLogger,E=t.projectName,N=t.appName,D=t.prepopulatedData,U=t.optionalDeps,T=U.createHttpClient,k=U.initI18n,L=U.createExperiments,j=U.createErrorHandler,B=t.localeDistPath,F=t.shouldUseEssentials,V=t.basePath,W=this;W=e.call(this,{httpClient:F?null==a?void 0:a.httpClient:null==T?void 0:T({isSSR:g(p),getAppToken:function(){var e,t;return null!==(t=null===(e=b.getAppToken)||void 0===e?void 0:e.call(b,P.appDefinitionId))&&void 0!==t?t:P.instance}})})||this,W.essentials=a,W.windowAPI=p,W.siteAPI=b,W.seoAPI=m,W.userAPI=_,W.appName=N,W.projectName=E,W.prepopulatedData=D,W.basePath=V,W.environment=new w({appData:P,windowAPI:p,seoAPI:m,siteAPI:b});var $=h(p,b,W.environment.isEditor);if(a&&(a.errorHandler?W._errorHandler=a.errorHandler:k&&j&&(W._errorHandler=j({biLoggerOrFactory:a.biLoggerFactory,initI18n:k,language:$,appDefId:P.appDefinitionId,createErrorMonitor:a.createErrorMonitor}))),W._errorHandler&&(null===(r=null===(n=W._httpClient)||void 0===n?void 0:n.setErrorHandler)||void 0===r||r.call(n,W._errorHandler)),W.localeDistPath=B,W.getCurrencyFormatter=null,W.formatCurrency=null,W.formatAddress=null,W.essentials&&"formatAddress"in W.essentials&&(W.formatAddress=W.essentials.formatAddress),W.essentials&&"createCurrencyFormatterWithDefaults"in W.essentials&&(W.getCurrencyFormatter=W.essentials.createCurrencyFormatterWithDefaults({language:$}),W.getCurrencyFormatter&&(W.formatCurrency=W.getCurrencyFormatter())),W.translations=!1===(null==C?void 0:C.enabled)?null:new y({language:$,defaultTranslations:M,prefix:null==C?void 0:C.prefix,availableLanguages:null==C?void 0:C.availableLanguages,localeDistPath:B,initI18n:k}),W.experiments=null,W._experimentsPromise=null,s){var K=W.environment.isViewer?{siteOwnerId:null==u?void 0:u.ownerId,visitorId:null==u?void 0:u.visitorId}:{siteOwnerId:null==u?void 0:u.ownerId,loggedInUserId:_.currentUser.id},G=(null==u?void 0:u.metaSiteId)?{entityId:null==u?void 0:u.metaSiteId}:void 0;if(F)W._experimentsPromise=s.centralized&&!(null==D?void 0:D.experiments)?Promise.resolve(W.essentials.experiments):function(e,t,n,r,i,o){return I(void 0,void 0,void 0,(function(){var s,a;return A(this,(function(u){switch(u.label){case 0:return s=e({useNewApi:!0,requestContext:S(r,i),baseUrl:o}),n?(s.add(n),[2,s]):t?(a=t.scopes.map((function(e){return s.load(e)})),[4,Promise.all(a)]):[2,s];case 1:return u.sent(),[2,s]}}))}))}(W.essentials.createExperiments,s,null==D?void 0:D.experiments,K,G,W.environment.isSSR?"https://wix.com":void 0);else{var H=L({prepopulated:null==D?void 0:D.experiments,experimentsConfig:s,baseUrl:W.environment.isSSR?"https://wix.com":void 0,ctx:K,overrideCriteria:G});W._experimentsPromise=H.init()}}if(null==D?void 0:D.biLogger)W.bi=null==D?void 0:D.biLogger;else if(R){var J=void 0;F?J=W.essentials.biLoggerFactory():c&&(J=c()),J&&(W.bi=R(J)({}))}if(W.sentry=null,W.errorMonitor=null,null==D?void 0:D.sentryMonitor)W.sentry=null==D?void 0:D.sentryMonitor;else if(null==D?void 0:D.errorMonitor)W.errorMonitor=null==D?void 0:D.errorMonitor;else if(d)if(d.errorMonitor&&(null==a?void 0:a.createErrorMonitor))W.errorMonitor=a.createErrorMonitor({dsn:d.DSN,environment:"Viewer:Worker",appName:null!==(i=W.appName)&&void 0!==i?i:"santa-members-viewer-app",version:"5d3f2fb8c82b4e29e71f53c5169d33b84e492d3d004c5c2582422264",fullArtifactId:"com.wixpress.wixcode.santa-members-viewer-app",componentId:"viewer-script",tags:{isSSR:g(p),isSEO:v(m)}});else{var q=l({dsn:d.DSN,environment:"Viewer:Worker",release:"".concat(null!==(o=W.appName)&&void 0!==o?o:"santa-members-viewer-app","@").concat("5d3f2fb8c82b4e29e71f53c5169d33b84e492d3d004c5c2582422264"),withDataCallback:!0,tags:{isSSR:g(p),isSEO:v(m)}});W.sentry=null==f?void 0:f.createMonitor(q.dsn,(function(e){return O(O({},e),q.config)}))}return W.sentry&&(W.reportError=function(e){return"string"==typeof e?W.sentry.captureMessage(e):W.sentry.captureException(e),W.sentry.lastEventId()}),W.errorMonitor&&(W.reportError=function(e){return"string"==typeof e?W.errorMonitor.captureMessage(e):W.errorMonitor.captureException(e)}),W}return R(t,e),t.prototype.init=function(){var e,t;return E(this,void 0,void 0,(function(){var n;return N(this,(function(r){switch(r.label){case 0:return n=this,[4,this._experimentsPromise];case 1:return n.experiments=r.sent(),[4,null===(e=this.translations)||void 0===e?void 0:e.init({prepopulated:null===(t=this.prepopulatedData)||void 0===t?void 0:t.translations})];case 2:return r.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"errorHandler",{get:function(){var e;return null!==(e=this._errorHandler)&&void 0!==e?e:{withErrorHandler:function(e){return e()},getResolvedError:function(){return{message:""}},showError:function(){}}},enumerable:!1,configurable:!0}),t.prototype.createTranslations=function(e,t,n){var r,i=e.translationsConfig,o=e.defaultTranslations,s=e.localeDistPath;if(!1===(null==i?void 0:i.enabled))return null;if(s===this.localeDistPath&&(null==n?void 0:n.basePath)===this.basePath)return this.translations;var a=h(this.windowAPI,this.siteAPI,this.environment.isEditor);return new y({language:a,defaultTranslations:o,availableLanguages:null==i?void 0:i.availableLanguages,prefix:null==i?void 0:i.prefix,localeDistPath:s,initI18n:null==t?void 0:t.initI18n,basePath:null!==(r=null==n?void 0:n.basePath)&&void 0!==r?r:this.basePath})},t}(M),U=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},T=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},k=function(e){return U(void 0,void 0,void 0,(function(){var t,n,r,i,o,s;return T(this,(function(a){switch(a.label){case 0:return[4,Promise.all([e.getPlatformApi("location"),e.getPlatformApi("user"),e.getPlatformApi("window"),e.getPlatformApi("site"),e.getPlatformApi("seo")])];case 1:return t=a.sent(),n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],[2,{locationAPI:n,userAPI:r,windowAPI:i,siteAPI:o,seoAPI:s}]}}))}))},L={},j=function(e){C=e},B=function(e){x=e},F=function(){return L},V=function(e){L=e},W=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},$=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},K=function(e){return"function"==typeof e};var G=function(){return G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},G.apply(this,arguments)};function H(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function J(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}Object.create;"function"==typeof SuppressedError&&SuppressedError;var q,z=function(e,t){return e.localeCompare(t)};!function(e){e.Number="Number",e.Boolean="Boolean",e.String="String",e.Text="Text",e.Object="Object"}(q||(q={}));var Y=function(e,t){var n=t.isMobile,r=t.language,i=void 0===r?"en":r;return"function"==typeof e.dangerousKeyTransformationOverride?e.dangerousKeyTransformationOverride(e.key,{isMobile:n,language:i}):function(e,t,n){if("string"!=typeof e)throw new Error("`generateKey` expects key to be passed and be a string");if(!t)throw new Error("`generateKey` expects options to be passed");return Object.keys(n).sort(z).reduce((function(e,r){var i=n[r]===t[r],o=!t[r]&&!n[r];return i||o?e:e+"\u25b6\ufe0e"+("boolean"!=typeof t[r]||n[r]?r+":"+t[r]:r)}),e)}(e.key,{m:n,l:i},{m:!1,l:"en"})},X=function(e){return e.type===q.Text},Z=function(e,t){return{languageAndMobile:Y(e,{isMobile:t.isMobile,language:t.language}),language:Y(e,{isMobile:!1,language:t.language}),mobile:Y(e,{isMobile:t.isMobile}),original:e.key}},Q=function(e){return void 0===e.inheritDesktop||e.inheritDesktop},ee=function(e){var t=e.environmentLabel;return function(e){throw new Error("It is not possible to translate ".concat(e,". Translate function was not passed to the ").concat(t))}},te=function(){var e,t=this;this.handlers=((e={})[q.Object]={serialize:function(e){return"string"==typeof e?(console.error("\u26a0\ufe0f Seems like you are calling `settings.set(param, JSON.stringify(value))`. Please, pass a plain object/array and tpa-settings will serializate it."),e):JSON.stringify(e)},deserialize:function(e){return"string"!=typeof e?e:JSON.parse(e)}},e),this.serialize=function(e,n){return e.type===q.Object?t.handlers[q.Object].serialize(n):n},this.deserialize=function(e,n){return e.type===q.Object?t.handlers[q.Object].deserialize(n):n}},ne=new te;function re(e,t,n){void 0===n&&(n={});var r,i=X(t),o=Z(t,{isMobile:n.isMobile,language:i?n.language:void 0}),s=Q(t);return i?void 0!==e[o.languageAndMobile]?r=e[o.languageAndMobile]:s&&void 0!==e[o.language]&&(r=e[o.language]):void 0!==e[o.mobile]?r=e[o.mobile]:s&&void 0!==e[o.original]&&(r=e[o.original]),ne.deserialize(t,r)}var ie=!1;function oe(e,t,n,r){void 0===n&&(n={});var i=H(n,[]);void 0===r&&(r="COMPONENT");var o=e;e.COMPONENT||(ie||(console.warn("`getSettingsValue` or `getSettingsValues` should accept whole public data object. Probably, data was passed only for one scope."),ie=!0),o={COMPONENT:e,APP:{}});var s="COMPONENT"===r&&t.inheritFromAppScope,a=re(o[r],t,i);return void 0===a&&s&&(a=re(o.APP,t,i)),t.getDefaultValue&&void 0===a?function(e,t,n,r){var i,o;void 0===r&&(r={});var s=null!==(i=r.t)&&void 0!==i?i:ee({environmentLabel:null!==(o=r.environmentLabel)&&void 0!==o?o:"`getSettingsValue` function"});return n.getDefaultValue({isMobile:r.isMobile,isRTL:r.isRTL,isEditorX:r.isEditorX,t:s,presetId:r.presetId,experiments:r.experiments,getSettingParamValue:function(n,i){return void 0===i&&(i={}),oe(e,n,G(G(G({},r),i),{t:s}),t)}})}(o,r,t,i):a}var se=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ae=function(e){function t(t){var n,r=this;(r=e.call(this,t)||this).entry="viewerScript";var i,o=t.config,s=t.widgetId,a=t.locationAPI.query;return r.isEditorX=function(e){var t;return null!==(t=null==e?void 0:e.booleans.responsive)&&void 0!==t&&t}(null===(n=null==o?void 0:o.style)||void 0===n?void 0:n.styleParams),r.isADI=(void 0===(i=a)&&(i={}),"onboarding"===i.dsOrigin),r.isClassicEditor=function(e){return void 0===e&&(e={}),"Editor1.4"===e.dsOrigin}(a),r.widgetId=s,r}return se(t,e),t}(w),ue=function(e,t){return{name:e.name,message:e.message,stack:e.stack,errorId:t}},le=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ce=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function fe(e,t){return le(this,void 0,void 0,(function(){return ce(this,(function(n){switch(n.label){case 0:return[4,this.controllerConfig.platformAPIs.platformApiProvider.getPlatformApi("window")];case 1:return n.sent().openModal("".concat((r=this.componentName||"",i=e,o=this.controllerConfig.appParams.instance,s="".concat(r,"/").concat(i),"https://editor.wixapps.net/render/prod/modals/".concat("santa-members-viewer-app","/").concat("5d3f2fb8c82b4e29e71f53c5169d33b84e492d3d004c5c2582422264","/").concat(s,"?instance=").concat(o))),t),[2]}var r,i,o,s}))}))}var de=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pe=function(){return pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pe.apply(this,arguments)},he=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ge=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ve=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},me=function(e){function t(t){var n,r,i,o,s,a,u=t.viewerScriptFlowAPI,f=t.controllerConfig,d=t.appDefinitionId,p=t.widgetId,h=t.componentId,m=t.componentName,b=t.biLogger,_=t.prepopulatedData,y=t.translations,w=t.fedopsConfig,P=t.sentryConfig,S=t.shouldUseEssentials,I=t.multilingualDisabled,A=t.panoramaClient,C=t.locationAPI,x=t.windowAPI,M=t.siteAPI,R=t.seoAPI,O=this;(O=e.call(this,{httpClient:u._httpClient})||this).appLoadStarted=function(){if(null!==O.fedops){var e=O.fedops.appLoadStarted;e.call(O.fedops),O.fedops.appLoadStarted=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];console.warn("\u{1f97a} Seems like you're trying to call `fedopsLogger.appLoadStarted` and `fedopsLogger.appLoaded` in your controller.\nWe are already logging load events for SSR and CSR environments, so you can remove these calls from your project."),e.call.apply(e,ve([O.fedops],t,!1))}}},O.essentials=f.essentials,O.controllerConfig=f,O.errorHandler=u.errorHandler,O.experiments=u.experiments,O.bi=u.bi,O.prepopulatedData=_,O.componentName=m;var E=f.platformAPIs;if(O.panoramaClient=null==A?void 0:A.createClientForComponent(),O.getCurrencyFormatter=u.getCurrencyFormatter,O.formatCurrency=null===(n=O.getCurrencyFormatter)||void 0===n?void 0:n.call(O),O.formatAddress=u.formatAddress,O.environment=new ae({locationAPI:C,windowAPI:x,siteAPI:M,seoAPI:R,appData:f.appParams,config:f.config,widgetId:p}),!u.bi&&b)if(S){var N=O.essentials.biLoggerFactory();O.bi=b(N)({})}else(null===(r=f.platformAPIs)||void 0===r?void 0:r.biLoggerFactory)&&(O.bi=b(null===(i=f.platformAPIs)||void 0===i?void 0:i.biLoggerFactory())({}));if(O.sentry=null,O.errorMonitor=null,(null==_?void 0:_.sentryMonitor)||(null==_?void 0:_.errorMonitor))O.sentry=null!==(o=null==_?void 0:_.sentryMonitor)&&void 0!==o?o:null,O.errorMonitor=null!==(s=null==_?void 0:_.errorMonitor)&&void 0!==s?s:null;else if(P)if(P.errorMonitor&&O.essentials.createErrorMonitor)O.errorMonitor=O.essentials.createErrorMonitor({dsn:P.DSN,environment:"Viewer:Worker",appName:"santa-members-viewer-app",version:"5d3f2fb8c82b4e29e71f53c5169d33b84e492d3d004c5c2582422264",fullArtifactId:"com.wixpress.wixcode.santa-members-viewer-app",componentId:h,tags:{componentId:h,componentName:m,isSSR:g(x),isSEO:v(R)}});else{var D=l({dsn:P.DSN,environment:"Viewer:Worker",release:"".concat("santa-members-viewer-app","@").concat("5d3f2fb8c82b4e29e71f53c5169d33b84e492d3d004c5c2582422264"),withDataCallback:!0,tags:{componentId:h,componentName:m,isSSR:g(x),isSEO:v(R)}});O.sentry=null===(a=E.monitoring)||void 0===a?void 0:a.createMonitor(D.dsn,(function(e){return pe(pe({},e),D.config)}))}return O.sentry&&(O.reportError=function(e){return"string"==typeof e?O.sentry.captureMessage(e):O.sentry.captureException(e),O.sentry.lastEventId()}),O.errorMonitor&&(O.reportError=function(e){return"string"==typeof e?O.errorMonitor.captureMessage(e):O.errorMonitor.captureException(e)}),O.fedops=null,!1!==(null==w?void 0:w.enabled)&&((null==_?void 0:_.fedopsLogger)?O.fedops=null==_?void 0:_.fedopsLogger:O.fedops=S?O.essentials.fedopsLogger:E.fedOpsLoggerFactory.getLoggerForWidget({appId:d,widgetId:p,paramsOverrides:{corrId:O.controllerConfig.compId}}),O.environment.isSSR&&O.appLoadStarted(),O.fedops.interactionStarted("controller-load")),O.environment.isSSR&&(null==A||A.reportLoadStart()),O.translations=y,O.viewerScriptFlowAPI=u,O.settings={get:function(e){var t,n,r;return oe(null!==(n=null===(t=O.controllerConfig.config)||void 0===t?void 0:t.publicData)&&void 0!==n?n:{},e,{t:null===(r=O.translations)||void 0===r?void 0:r.t,experiments:O.experiments,isMobile:O.environment.isMobile,language:I?c(O.environment.multilingual):void 0})}},O.openModal=fe,O}return de(t,e),t.prototype.init=function(){var e,t;return he(this,void 0,void 0,(function(){return ge(this,(function(n){switch(n.label){case 0:return null!==(null===(e=this.translations)||void 0===e?void 0:e.i18n)?[3,2]:[4,this.translations.init({prepopulated:null===(t=this.prepopulatedData)||void 0===t?void 0:t.translations,useSuspense:this.environment.isEditor||this.environment.isADI})];case 1:n.sent(),n.label=2;case 2:return null!==this.fedops&&this.fedops.interactionEnded("controller-load"),[2]}}))}))},t.prototype.updateControllerConfig=function(e){this.controllerConfig.config=e},t.prototype.handleError=function(e){var t;this.sentry&&(this.reportError(e),t=this.sentry.lastEventId()),this.errorMonitor&&(t=this.reportError(e)),this.controllerConfig.setProps({_workerError:ue(e,t)})},t.prototype.withErrorBoundary=function(e){var t=this;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{e.apply(void 0,n)}catch(e){e instanceof Error&&t.handleError(e)}}},t}(M),be={language:"_language",translations:"_translations",multilingual:"_multilingual",experiments:"_experiments",biMethods:"_biMethods",openModal:"__openModal__",biUtil:"_biUtil",mobile:"_mobile",isRTL:"_isRTL",isSSR:"_isSSR",isSEO:"_isSEO",appDefinitionId:"_appDefinitionId",widgetId:"_widgetId",fedopsLogger:"_fedopsLogger",sentry:"_sentry",errorMonitor:"_errorMonitor",publicData:"_publicData",styles:"__styles",enabledHOCs:"_enabledHOCs",onAppLoaded:"_onAppLoaded",onAppLoadStarted:"_onAppLoadStarted",error:"_workerError",errorMonitorWithOptions:"__errorMonitorWithOptions",logger:"__logger",transactionWithAction:"__transactionWithAction",shouldReportAppLoadStarted:"shouldReportAppLoadStarted"},_e=function(){function e(){this.store={}}return e.prototype.init=function(){},e.prototype.getProps=function(){return this.store},e.prototype.getProp=function(e){var t=this.getPrivateKey(e);return this.store[t]},e.prototype.spreadProp=function(e){var t,n=this.getPrivateKey(e);return(t={})[n]=this.store[n],t},e.prototype.getPrivateKey=function(t){return e.PropsMap[t]},e.prototype.getFromExternalStore=function(e,t){return t[this.getPrivateKey(e)]},e.prototype.setProp=function(e,t){var n=this.getPrivateKey(e);this.store[n]=t},e.prototype.isHOCEnabled=function(e){return this.getProp("enabledHOCs")[e]},e.prototype.isFlowPropsReceived=function(){return!!this.getProp("enabledHOCs")},e.PropsMap=be,e}(),ye=function(e){return function(t){var n;return e.controllerConfig.config.publicData=t,(n={})[_e.PropsMap.publicData]=t,n}},we=function(){return we=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},we.apply(this,arguments)},Pe=function(e){return function(t){var n,r,i;return e.controllerConfig.config.style.styleParams=(void 0===(r=e.controllerConfig.config.style.styleParams)&&(r={}),void 0===(i=t)&&(i={}),we(we({},r),{colors:we(we({},r.colors),i.colors),booleans:we(we({},r.booleans),i.booleans),fonts:we(we({},r.fonts),i.fonts),numbers:we(we({},r.numbers),i.numbers)})),(n={})[_e.PropsMap.styles]=e.controllerConfig.config.style.styleParams,n}},Se=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ie=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ae=function(e,t,n,r,i,o){return Se(void 0,void 0,void 0,(function(){var i,s,a,u,l,c,d,p;return Ie(this,(function(h){switch(h.label){case 0:return i=o(),s=function(e,t){if(!e.createPanoramaClient)return null;var n=t.componentId,r=t.sentryConfig,i=t.environment;return e.createPanoramaClient({fullArtifactId:"com.wixpress.wixcode.santa-members-viewer-app",artifactVersion:"5d3f2fb8c82b4e29e71f53c5169d33b84e492d3d004c5c2582422264",componentId:n,sentryDsn:null==r?void 0:r.DSN,sentryEnvironment:i})}(n.essentials,{componentId:t.id,sentryConfig:t.sentryConfig,environment:"Viewer:Worker"}),[4,k(n.platformAPIs.platformApiProvider)];case 1:return a=h.sent(),u=a.locationAPI,l=a.windowAPI,c=a.siteAPI,d=a.seoAPI,p=new me({translations:r.createTranslations(t,e,{basePath:f()}),componentId:t.id,componentName:t.componentName,viewerScriptFlowAPI:r,appDefinitionId:t.appDefinitionId,widgetId:t.id,translationsConfig:t.translationsConfig,persistentAcrossPages:t.persistentAcrossPages,biLogger:t.biLogger,fedopsConfig:t.fedopsConfig,sentryConfig:t.sentryConfig,controllerConfig:n,shouldUseEssentials:t.shouldUseEssentials,multilingualDisabled:t.multilingualDisabled,panoramaClient:s,locationAPI:u,windowAPI:l,siteAPI:c,seoAPI:d}),[2,t.method({controllerConfig:n,flowAPI:p,appData:i,dangerousPublicDataOverride:ye(p),dangerousStylesOverride:Pe(p)})]}}))}))},Ce=n(186);const xe=async e=>!!await(null==e?void 0:e.site.isAppSectionInstalled({sectionId:"member_page",appDefinitionId:Ce.rH})),Me=async e=>!!e&&e.site.isAppSectionInstalled({sectionId:"member_settings_page",appDefinitionId:Ce.rH}),Re=[Ce.dn,Ce.tt,Ce.qq,Ce.sV,"14ebe801-d78a-daa9-c9e5-0286a891e46f","14dbef06-cc42-5583-32a7-3abd44da4908",Ce.AV,"476dc2dd-e16e-43b0-a0aa-1a486c78fbe2"],Oe="b976560c-3122-4351-878f-453f337b7245",Ee="14f25924-5664-31b2-9568-f9c5ed98c9b1";let Ne=function(e){return e.MissingMemberId="Error: please provide site member ID",e.RouteNotFound="Error: route not found by provided widgetId:",e.MissingMembersAreaPage="Error: missing members area page - failed to find prefix",e.MissingMembersAreaSettingsPage="Error: missing members area settings page - failed to find prefix",e.CannotNavigateToMemberNoPublicPage="Error: cannot navigate to member, no public page",e.MissingRoutes="Error: members area viewer has no routes",e.NotInitializedWixCodeApi="Error: wixCodeApi not properly initialized",e.CannotFindPageToNavigateTo="Error: cannot find page to navigate to by provided widgetId and appDefinitionId. Check if correct widgetId or appDefId is passed.",e.SectionUrlNotFound="Error: section URL was not found",e}({}),De=function(e){return e.RestrictedMemberPagePermissions="specs.membersArea.EnableMemberPagePermissions",e.EnablePublicAppData="specs.membersArea.enableAppData",e.EnableNotifications="specs.membersArea.enableNotificationsOnV2",e.FilterConflictingActivityCounters="specs.membersArea.filterConflictingActivityCounters",e.UseNotificationsV2Api="specs.ping.membersAreaUseNotificationsV2Api",e.HideNotificationsCounterInDropdownAndMemberMenus="specs.ping.membersArea.hideNotificationsCounterInDropdownAndMemberMenus",e}({});const Ue="members-menu-initial-items",Te="login-dropdown-menu-initial-items",ke="{userName}",Le=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i;let je=function(e){return e.Profile="Profile",e.Settings="Settings",e}({});const Be="initialData",Fe="@members_login",Ve="@members_menu",We="@members-login-bar",$e="@members-menu";let Ke,Ge,He;const Je=(e,t)=>()=>{try{!function(e){try{He&&Ge.interactionStarted(e)}catch(e){const t="Failed to start fedops interaction, reason: "+e;Ke&&Ke.captureException(t)}}(e);const n=t();return function(e){try{He&&Ge.interactionEnded(e)}catch(e){const t="Failed to end fedops interaction, reason: "+e;Ke&&Ke.captureException(t)}}(e),n}catch(e){throw console.error(e),Ke&&Ke.captureException(e.toString()),e}};function qe(e,t){var n;void 0===t&&(t={}),null!=(n=Ke)&&n.captureMessage&&Ke.captureMessage(e,{level:"error",...t})}function ze(e){if(!e||!e[0])return[];return Object.keys(e[0]).includes("isVisible")?function(e){return e.map((e=>({link:e.link,isVisibleInMenuBar:e.isVisible,isVisibleInMobileMenuBar:e.isVisibleMobile,visibleForRoles:e.visibleForRoles})))}(e):function(e){return e.map((e=>({link:e.l,isVisibleInMenuBar:!e.hmb,isVisibleInMobileMenuBar:!e.hmmb,visibleForRoles:e.vfr||[]})))}(e)}var Ye=n(213),Xe=n.n(Ye);let Ze;function Qe(){return Ze}const et=(()=>{let e,t=null,n=null,r=[],i=[],o=null;return{getFlowAPI:()=>t,setFlowAPI:e=>t=e,getWixCodeAPI:()=>n,setWixCodeAPI:e=>n=e,getRoutes:()=>r,setRoutes:e=>r=e,getSettingsRoutes:()=>i,setSettingsRoutes:e=>i=e,getGlobalControllerConfig:()=>o,setGlobalControllerConfig:e=>o=e,getMembersLoginWidgets:()=>e||[],setMembersLoginWidgets:t=>e=t}})(),tt=e=>Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&");function nt(e){let{menuItem:t,publicRouterConfig:n={},privateRouterConfig:r={},viewedUser:i,shouldLog:o=!0}=e,s=t.link;i&&0===s.indexOf(`/${i.slug}/`)&&(s=s.replace(`/${i.slug}/`,`/${ke}/`));const a=s.split("/"),u=a.indexOf(ke),l=u>-1?"/"+a.splice(u,a.length).join("/"):"/"+a[a.length-1],c=n.patterns||{},f=r.patterns||{},d=c[l]||f[l];if(!d&&o){const e={menuItemLink:t.link},o={menuItem:t,publicRouterConfig:n,privateRouterConfig:r,viewedUser:i};p="Could not find the pattern for menu item in router configs - probably an invalid (or custom) menu item",void 0===(h={tags:e,extra:{data:JSON.stringify(o)}})&&(h={}),null!=(g=Ke)&&g.captureMessage&&Ke.captureMessage(p,{level:"info",...h})}var p,h,g;return d}function rt(e){let{menuItems:t,publicRouterPrefix:n}=e;const r=t.filter((e=>!!e.link||e.items&&e.items.length>0));return r.forEach((e=>{if(e.link&&0===e.link.indexOf(`undefined/${ke}`)){const t=e.link.split("/");e.link=`/${n}/${ke}/${t[2]}`}})),r.forEach((e=>{if(!e.link)return;if(4===e.link.split("/").length&&-1===e.link.indexOf(ke)){const t=e.link.split("/");"https:"!==t[0]&&"http:"!==t[0]&&(e.link=`/${t[1]}/${ke}/${t[3]}`)}})),r}function it(e){let{slug:t,options:n,wixCodeApi:r}=e;const[i]=function(e){let{location:t}=e;const{prefix:n,path:r,query:i}=t,o=Object.keys(i).length>0?`?${tt(i)}`:"";return`/${n}/${r.join("/")}${o}`}(r).split("?"),o=function(e,t){if(!t)return e;const[,...n]=e.split("/");return n[1].match(Le)?(n[1]=t,`/${n.join("/")}`):e}(i,t),s=n.find((e=>{let{link:t}=e;return t===o}));return s?s.value:null}function ot(e){let{menu:t,options:n,viewedUser:r,wixCodeApi:i}=e;if(!!t.autoNavigation)return;const o=(r||{}).slug;t.value=it({slug:o,options:n,wixCodeApi:i}),function(e){let{menu:t,options:n,wixCodeApi:r}=e;null==t.onChange||t.onChange((e=>{let{target:i}=e;const o=i.value,s=(n.find((e=>{let{value:t}=e;return t===o}))||{}).link;var a;s?r.location.to(s):qe("Menu navigation request ignored: ",{menu:t,target:i,options:n,newLink:s,api:!(null==r||null==(a=r.location)||!a.to)})}))}({menu:t,options:n,wixCodeApi:i})}function st(e){let{menuItems:t,parsedRoutersConfigs:n,userRoles:r,viewedUser:i,appsCounters:o,excludedCounters:s}=e;const a=null==n?void 0:n.find((e=>"public"===e.type)),u=null==n?void 0:n.find((e=>"private"===e.type)),l=function(e){let{menuItems:t,publicRouterConfig:n,privateRouterConfig:r,userRoles:i=[],viewedUser:o}=e;return t.filter((e=>{if(!e.link)return!0;const t=nt({menuItem:e,publicRouterConfig:n,privateRouterConfig:r,viewedUser:o});if(!t||!t.appData||!t.appData.visibleForRoles||0===t.appData.visibleForRoles.length)return!0;const{visibleForRoles:s=[]}=t.appData;return!!s.some((e=>i.indexOf(e)>-1))}))}({menuItems:t,publicRouterConfig:a,privateRouterConfig:u,userRoles:r,viewedUser:i}),c=function(e){var t;let{menuItems:n,appsCounters:r,publicRouterConfig:i,privateRouterConfig:o,viewedUser:s,excludedCounters:a}=e;return n.forEach((e=>{e.displayCount=null})),null!=r&&null!=(t=r.apps)&&t.length?(r.apps.forEach((e=>{n.forEach((t=>{if(!t.link)return;const n=nt({menuItem:t,publicRouterConfig:i,privateRouterConfig:o,viewedUser:s});if(n&&n.appData.appDefinitionId===e.appDefId){const r=n.appData.numbers&&n.appData.numbers.key;if(!r||null!=a&&a.includes(r))return;const i=e.numbers&&e.numbers[r];i&&(t.displayCount=i.count)}}))})),n):n}({menuItems:l,appsCounters:o,publicRouterConfig:a,privateRouterConfig:u,viewedUser:i,excludedCounters:s});return function(e){let{menuItems:t,viewedUser:n}=e;return t.map((e=>(e.link&&e.link.indexOf(ke)>-1&&(e.link=e.link.replace(ke,n.slug)),e)))}({menuItems:c,viewedUser:i})}function at(e){let{menuItems:t,parsedRoutersConfigs:n,viewedUser:r,permittedPagesMap:i,experiments:o}=e;if(o&&o.enabled(De.RestrictedMemberPagePermissions)){const e=null==n?void 0:n.find((e=>"public"===e.type)),o=null==n?void 0:n.find((e=>"private"===e.type));return t.filter((t=>{const n=nt({menuItem:t,publicRouterConfig:e,privateRouterConfig:o,viewedUser:r});return!n||(i[n.page]??!0)}))}return t}function ut(e){let{menuItems:t,parsedRoutersConfigs:n=[],viewedUserRoles:r,viewedUser:i,currentUser:o,appsCounters:s,parsedConfigItems:a,publicRouterPrefix:u,permittedPagesMap:l,experiments:c}=e;const f=!i.id&&o?o:i,d=function(e){let{menuItems:t,parsedConfigItems:n}=e;if(n)return t.filter((e=>{const t=n.find((t=>t.link===e.link)),{isVisibleInMenuBar:r}=t||{};return"boolean"!=typeof r||r}))}({menuItems:rt({menuItems:t,publicRouterPrefix:u}),parsedConfigItems:a}),p=function(e){let{menuItems:t,currentUser:n,viewedUser:r,parsedRoutersConfigs:i=[]}=e;if(!r.id)return t;if(n&&n.id===r.id)return t;const o=i.find((e=>"private"===e.type));return t.filter((e=>!e.link||!nt({menuItem:e,viewedUser:r,privateRouterConfig:o,shouldLog:!1})))}({menuItems:d||[],currentUser:o,viewedUser:i,parsedRoutersConfigs:n}),h=st({menuItems:at({menuItems:p,parsedRoutersConfigs:n,permittedPagesMap:l,viewedUser:i,experiments:c}),parsedRoutersConfigs:n,userRoles:r,viewedUser:f,appsCounters:s,excludedCounters:pt({experiments:c})});return h.forEach((e=>{e.items&&e.items.length>0&&(e.items=ut({menuItems:e.items,parsedRoutersConfigs:n,viewedUserRoles:r,viewedUser:i,currentUser:o,appsCounters:s,parsedConfigItems:a,publicRouterPrefix:u}))})),function(e){let{menuItems:t}=e;return t.filter((e=>!!e.link||e.items&&e.items.length>0))}({menuItems:h})}function lt(e){let{menuItems:t,parsedRoutersConfigs:n,userRoles:r,viewedUser:i,appsCounters:o,publicRouterPrefix:s,permittedPagesMap:a,experiments:u,excludedCounters:l}=e;return st({menuItems:at({menuItems:rt({menuItems:t,publicRouterPrefix:s}),parsedRoutersConfigs:n,permittedPagesMap:a,viewedUser:i,experiments:u}),parsedRoutersConfigs:n,userRoles:r,viewedUser:i,appsCounters:o,excludedCounters:l})}function ct(e){let{menu:t,parsedRoutersConfigs:n,currentUserRoles:r,currentUser:i,appsCounters:o,memoryStorage:s,publicRouterPrefix:a,permittedPagesMap:u,experiments:l,isMobile:c}=e;const f=Boolean((null==t?void 0:t.accountNavBar)&&t.accountNavBar.navBarItems&&t.accountNavBar.menuItems&&c),d=f?t.accountNavBar.navBarItems:t.navBarItems||[],p=f?null==t?void 0:t.accountNavBar.menuItems:t.menuItems||[],h=`${Te}-${t.id}`;let g=JSON.parse(s.getItem(h));if(!g){const e=JSON.stringify(p);s.setItem(h,e),g=p}const v=lt({menuItems:d,parsedRoutersConfigs:n,userRoles:r,viewedUser:i,appsCounters:o,publicRouterPrefix:a,permittedPagesMap:u,experiments:l}),m=lt({menuItems:g,parsedRoutersConfigs:n,userRoles:r,viewedUser:i,appsCounters:o,publicRouterPrefix:a,permittedPagesMap:u,experiments:l,excludedCounters:pt({experiments:l})});f?(t.accountNavBar.navBarItems=v,t.accountNavBar.menuItems=m):(t.navBarItems=v,t.menuItems=m)}const ft=e=>{let{menu:t,parsedRoutersConfigs:n,viewedUser:r,flowAPI:i}=e;return t.onItemClick((e=>{var t;let{item:o}=e;const s=function(e){let{item:t,viewedUser:n,parsedRoutersConfigs:r}=e;const i=t.link.replace(`/${n.slug}/`,`/${ke}/`),o=null==r?void 0:r.find((e=>"public"===e.type)),s=null==r?void 0:r.find((e=>"private"===e.type)),a=i.split("/"),u=a.indexOf(ke),l=u>-1?"/"+a.splice(u,a.length).join("/"):"/"+a[a.length-1],c=(null==o?void 0:o.patterns)||{},f=(null==s?void 0:s.patterns)||{};return c[l]||f[l]}({item:o,parsedRoutersConfigs:n,viewedUser:r}),{appDefinitionId:a,appPageId:u}=s.appData;null==(t=i.bi)||t.report({evid:866,src:69,endpoint:"members-app-uou",params:{pageName:u,component:"ma-navigation",originAppId:a,action:"menu-item-click"}})}))};function dt(e){let{wixCodeApi:t,menu:n,parsedRoutersConfigs:r,viewedUserRoles:i,currentUser:o,viewedUser:s,appsCounters:a,parsedConfigItems:u,memoryStorage:l,publicRouterPrefix:c,permittedPagesMap:f,experiments:d,isMobile:p,flowAPI:h}=e;const g=p&&void 0!==n.options&&void 0===n.items,v=g?n.options||[]:n.items||[],m=`${Ue}-${n.id}`;let b=JSON.parse(l.getItem(m));if(!b){const e=JSON.stringify(v);l.setItem(m,e),b=v}const _=ut({menuItems:b,parsedRoutersConfigs:r,viewedUserRoles:i,currentUser:o,viewedUser:s,appsCounters:a,parsedConfigItems:u,publicRouterPrefix:c,permittedPagesMap:f,experiments:d});ft({menu:n,parsedRoutersConfigs:r,flowAPI:h,viewedUser:s}),g?(n.options=_,ot({menu:n,options:_,viewedUser:s,wixCodeApi:t})):n.items=_}function pt(e){let{experiments:t}=e;return(null==t?void 0:t.enabled(De.HideNotificationsCounterInDropdownAndMemberMenus))?["notificationsCount"]:[]}function ht(e){let{$w:t,wixCodeApi:n,parsedRoutersConfigs:r=[],viewedUserRoles:i=[],currentUser:o,viewedUser:s,appsCounters:a,parsedConfigItems:u,memoryStorage:l,publicRouterPrefix:c,permittedPagesMap:f={},experiments:d,isMobile:p,flowAPI:h}=e;const g=t(Ve),v=t($e);g.forEach((e=>dt({wixCodeApi:n,menu:e,parsedRoutersConfigs:r,viewedUserRoles:i,currentUser:o,viewedUser:s,appsCounters:a,parsedConfigItems:u,memoryStorage:l,publicRouterPrefix:c,permittedPagesMap:f,experiments:d,isMobile:p,flowAPI:h}))),v.forEach((e=>dt({wixCodeApi:n,menu:e,parsedRoutersConfigs:r,viewedUserRoles:i,currentUser:o,viewedUser:s,appsCounters:a,parsedConfigItems:u,memoryStorage:l,publicRouterPrefix:c,permittedPagesMap:f,experiments:d,isMobile:p,flowAPI:h})))}function gt(e){const t=e.find((e=>"public"===JSON.parse(e.config).type));if(!t)return;const n=JSON.parse(t.config),r=t.prefix,i=Object.keys(n.patterns??{}),o=i.find((e=>!0===n.patterns[e].socialHome));if(o)return{routerPrefix:r,patternKey:o,pageData:n.patterns[o]};if(i.length>0){const e=i[0];return{routerPrefix:r,patternKey:e,pageData:n.patterns[e]}}}const vt=()=>{};class mt{constructor(e){let{appRouters:t,routerReturnedData:n,wixCodeApi:r,cacheService:i,flowAPI:o}=e;Xe()(this,"wixLocation",void 0),Xe()(this,"wixSite",void 0),Xe()(this,"isMobile",void 0),Xe()(this,"appRouters",void 0),Xe()(this,"routerReturnedData",void 0),Xe()(this,"wixCodeApi",void 0),Xe()(this,"cacheService",void 0),Xe()(this,"flowAPI",void 0),this.wixLocation=r.location,this.wixSite=r.site,this.isMobile="Mobile"===r.window.formFactor,this.appRouters=t,this.routerReturnedData=n,this.wixCodeApi=r,this.cacheService=i,this.flowAPI=o}async matchRoute(e){let{appDefinitionId:t,sectionId:n,onSuccess:r=vt,onError:i=vt}=e;t&&n||i("Error: please provide app ID and section ID for navigation");let o=!1;if(this.appRouters.forEach((e=>{if(o)return;const i=JSON.parse(e.config);return i.patterns&&Object.keys(i.patterns).forEach((s=>{if(o)return;const a=i.patterns[s];a.appData&&a.appData.appDefinitionId===t&&a.appData.appPageId===n&&(o=!0,r(e.prefix,s))}))})),!o){const e=((await this.wixSite.getSiteStructure()).pages||[]).filter((e=>e.applicationId===t&&!e.prefix)).pop();return e?(o=!0,r("",e.url)):i(`Error: can not resolve route for app ${t} and page ${n}`)}}getRoute(e,t){return this.appRouters.find((n=>{const r=JSON.parse(n.config);return!!r.patterns&&Object.entries(r.patterns).some((n=>{var r,i;let[,o]=n;return(null==(r=o.appData)?void 0:r.appDefinitionId)===e&&(null==(i=o.appData)?void 0:i.appPageId)===t}))}))}getRouterOptions(e){const t=(e.appRouters||[]).map((e=>({...e,config:JSON.parse(e.config)}))),n=t.map((e=>e.config));return{publicRouterPrefix:t.find((e=>"public"===e.config.type)).prefix,parsedRoutersConfigs:n,parsedRouters:t}}getMenuRenderOptions(e){let{config:t,userService:n,appsCounters:r,enablePreview:i,flowAPI:o}=e;const{$w:s,appParams:a}=t,{parsedRoutersConfigs:u,publicRouterPrefix:l,parsedRouters:c}=this.getRouterOptions(a),f=n.getViewedUser();return{$w:s,wixCodeApi:this.wixCodeApi,publicRouterPrefix:l,parsedRoutersConfigs:u,appsCounters:r,memoryStorage:Qe(),parsedConfigItems:ze(t.config),currentUser:n.getCurrentUser(),viewedUser:i?{...f,id:"00000000-0000-0000-0000-000000000000"}:f,viewedUserRoles:n.getRoles()[f.id]||[],isMobile:this.isMobile,experiments:t.essentials.experiments,flowAPI:o,parsedRouters:c}}static hasSocialApp(e){const{applicationId:t}=e;return Re.indexOf(t)>-1}async hasSocialPages(e,t){if(!this.appRouters)throw t&&t("App routers not initialised"),new Error("App routers not initialised");const n=this.appRouters.filter((e=>{const t=JSON.parse(e.config);return"public"===t.type&&t.patterns&&Object.keys(t.patterns).length>0})),{pages:r}=await this.wixSite.getSiteStructure(),i=r.filter(mt.hasSocialApp);return e&&e(n.length>0||i.length>0),n.length>0||i.length>0}async getViewedUser(e,t){var n;const r=null==(n=this.routerReturnedData)?void 0:n.memberData.memberContactId;if(r)return e&&e(r),r;throw t&&t("Error getting viewed user"),new Error("Error getting viewed user")}async navigateToSection(e,t){let{appDefinitionId:n,sectionId:r,tpaInnerRoute:i="",memberId:o=""}=e;await this.matchRoute({appDefinitionId:n,sectionId:r,onSuccess:(e,t)=>{var n,r;e&&0!==e.indexOf("/")&&(e=`/${e}`),i&&"/"!==i.charAt(0)&&(i="/"+i),null==(n=(r=this.wixLocation).to)||n.call(r,`${e}${o?t.replace(ke,o):t}${i}`)},onError:e=>{throw t&&t(e),new Error(e)}})}async getSectionUrl(e,t){let{appDefinitionId:n,sectionId:r,memberId:i="",memberSlug:o}=e;return new Promise(((e,s)=>{const a=o||i;this.matchRoute({appDefinitionId:n,sectionId:r,onSuccess:(n,r)=>{n&&0===n.indexOf("/")&&(n=n.substring(1)),n||0!==r.indexOf("/")||(r=r.substring(1));let i=this.wixLocation.baseUrl;"/"!==i.slice(-1)&&(i+="/");const o=Object.keys(this.wixLocation.query).map((e=>`${e}=${this.wixLocation.query[e]}`)).join("&");t&&t(`${i}${n}${a?r.replace(ke,a):r}${o?"?"+o:""}`),e(`${i}${n}${a?r.replace(ke,a):r}${o?"?"+o:""}`)},onError:()=>{t&&t(this.wixLocation.url),s(this.wixLocation.url)}})}))}async getNavigatableRoles(e){const t=gt(this.appRouters);if(t){var n;return{navigatableMembersRoles:(null==(n=t.pageData.appData)?void 0:n.visibleForRoles)??[],isNavigationAllowed:!0}}return{navigatableMembersRoles:[],isNavigationAllowed:!1}}async navigateToMember(e,t){let{memberId:n,memberSlug:r}=e;const i=r||n;if(!n)throw t&&t("Error: please provide site member ID"),new Error("Error: please provide site member ID");const o=gt(this.appRouters);if(o){var s,a;const e=`/${o.routerPrefix}${o.patternKey.replace(ke,i)}`;null==(s=(a=this.wixLocation).to)||s.call(a,e)}}async getMemberPagePrefix(e,t,n){let{type:r="public"}=e;if(!this.appRouters)throw n&&n(`Can not get prefix for type ${r} - no routers`),new Error(`Can not get prefix for type ${r} - no routers`);const i=this.appRouters.filter((e=>JSON.parse(e.config).type===r)).pop();if(!i)throw n&&n(`Can not get prefix for type ${r}`),new Error(`Can not get prefix for type ${r}`);return t&&t({type:r,prefix:i.prefix}),{type:r,prefix:i.prefix}}updateCounterForNotificationApp(e,t){var n;const r=t||void 0,i={appDefId:Ee,numbers:{notificationsCount:{public:!1,count:r}}};return!(null==e||null==(n=e.apps)||!n.find((e=>{let{appDefId:t}=e;return t===Ee})))?{apps:e.apps.map((e=>{var t;return e.appDefId===Ee?{...e,numbers:{...e.numbers,notificationsCount:{...null==(t=e.numbers)?void 0:t.notificationsCount,count:r}}}:e}))}:{apps:[...(null==e?void 0:e.apps)||[],i]}}async setNotificationCount(e){var t;let{config:n,userService:r,displayCount:i}=e;const o=null==(t=this.wixCodeApi)||null==(t=t.site)||null==t.getAppToken?void 0:t.getAppToken(n.appParams.appDefinitionId),s=r.getCurrentUser(),a=r.getViewedUser(),u=this.updateCounterForNotificationApp(this.cacheService.getNumbers(o,s.id),i);this.cacheService.setNumbers(o,s.id,u);const l=this.getMenuRenderOptions({config:n,userService:r,appsCounters:u,enablePreview:!1,flowAPI:this.flowAPI}),{publicRouterPrefix:c,parsedRouters:f,parsedRoutersConfigs:d,parsedConfigItems:p,viewedUserRoles:h}=l,g={counters:{currentUserCounters:u,viewedUserCounters:this.cacheService.getNumbers(o,a.id)??void 0},permittedPagesMap:{},parsedRouters:f,parsedRoutersConfigs:d,parsedConfigItems:p,currentUserRoles:r.getRoles()[s.id],viewedUserRoles:h,publicRouterPrefix:c};return Je("renderMembersMenuItems",(()=>jn(n,g,this.flowAPI)))()}async enterPublicProfilePreviewMode(e){var t;let{config:n,userService:r}=e;const{appParams:i}=n,o=r.getViewedUser(),s=null==(t=this.wixCodeApi)||null==(t=t.site)||null==t.getAppToken?void 0:t.getAppToken(i.appDefinitionId),a=this.cacheService.hasNumbers(s,o.id)?this.cacheService.getNumbers(s,o.id):r.fetchMenuCounters(o),u=this.getMenuRenderOptions({config:n,userService:r,appsCounters:a,enablePreview:!0,flowAPI:this.flowAPI});return Je("renderMembersMenuItems",(()=>ht(u)))()}leavePublicProfilePreviewMode(e){var t;let{config:n,userService:r}=e;const{appParams:i}=n,o=r.getViewedUser(),s=null==(t=this.wixCodeApi)||null==(t=t.site)||null==t.getAppToken?void 0:t.getAppToken(i.appDefinitionId),a=this.cacheService.hasNumbers(s,o.id)?this.cacheService.getNumbers(s,o.id):r.fetchMenuCounters(o),u=this.getMenuRenderOptions({config:n,userService:r,appsCounters:a,enablePreview:!1,flowAPI:this.flowAPI});return Je("renderMembersMenuItems",(()=>ht(u)))()}clearMenus(e){let{config:t}=e;return function(e){const t=e(Ve),n=e($e);t.forEach((e=>{e.items=[]})),n.forEach((e=>{e.items=[]}))}(null==t?void 0:t.$w)}getIsMembersAreaSeoEnabled(e){let{config:t}=e;const n=null==t?void 0:t.config.isMembersAreaSeoEnabled;return Promise.resolve(n)}isAppSectionInstalled(e){let{appDefinitionId:t,sectionId:n}=e;return!!this.getRoute(t,n)}}class bt{constructor(e){this.storage=e}hasCurrentUser(e){const t=this.getCurrentUserCacheKey(e);return this.hasItemInStorage(t)}getCurrentUser(e){const t=this.getCurrentUserCacheKey(e);return this.getItemFromStorage(t)}setCurrentUser(e,t){const n=this.getCurrentUserCacheKey(e);return this.setItemToStorage(n,t)}hasViewedUser(e,t){const n=this.getViewedUserCacheKey(e,t);return this.hasItemInStorage(n)}getViewedUser(e,t){const n=this.getViewedUserCacheKey(e,t);return this.getItemFromStorage(n)}setViewedUser(e,t,n){const r=this.getViewedUserCacheKey(e,t);return this.setItemToStorage(r,n)}hasRoles(e,t){const n=this.getRolesCacheKey(e,t);return this.hasItemInStorage(n)}getRoles(e,t){const n=this.getRolesCacheKey(e,t);return this.getItemFromStorage(n)}setRoles(e,t,n){const r=this.getRolesCacheKey(e,t);return this.setItemToStorage(r,n)}hasNumbers(e,t){const n=this.getNumbersCacheKey(e,t);return this.hasItemInStorage(n)}getNumbers(e,t){const n=this.getNumbersCacheKey(e,t);return this.getItemFromStorage(n)}setNumbers(e,t,n){const r=this.getNumbersCacheKey(e,t);return this.setItemToStorage(r,n)}hasItemInStorage(e){return!!this.storage.getItem(e)}getItemFromStorage(e){const t=this.storage.getItem(e);return t?JSON.parse(t):null}setItemToStorage(e,t){return this.storage.setItem(e,JSON.stringify(t))}getCurrentUserCacheKey(e){return`cu-${e}`}getViewedUserCacheKey(e,t){return`vu-${t}-${e}`}getRolesCacheKey(e,t){return t?`roles-${t}-${e}`:`roles-${e}`}getNumbersCacheKey(e,t){return`numbers-${t}-${e}`}}class _t{constructor(e,t){this.httpClient=e,this.experiments=t,Xe()(this,"adminGroupId","00000000-0000-0000-0000-000000000001"),Xe()(this,"restrictedPagesContext","Pages"),Xe()(this,"permittedPagesExperiment",De.RestrictedMemberPagePermissions)}async getPermittedPagesMap(e,t){const n=Object.values(e);if(!this.shouldFetchPermittedPages(n,t))return{};const r=await this.fetchRestrictedPagesPermission();if(!this.hasRestrictedPages(r,n))return this.getPermittedPagesMapFallback(Object.keys(e),!0);const i=this.getNonRestrictedPages(r,n),o=this.getRestrictedMemberPages(r,n),s=await this.checkPermissionsForRestrictedPages(r.id,o);return this.toPermittedPagesMap(e,i,s)}toPermittedPagesMap(e,t,n){return Object.entries(e).reduce(((e,r)=>{let[i,o]=r;return t.includes(o)?{...e,[i]:!0}:{...e,[i]:n[o]}}),{})}getRestrictedMemberPages(e,t){return e.resourceIds.filter((e=>t.includes(e)))}getNonRestrictedPages(e,t){return t.filter((t=>!e.resourceIds.includes(t)))}getPermittedPagesMapFallback(e,t){return e.reduce(((e,n)=>({...e,[n]:t})),{})}async checkPermissionsForRestrictedPages(e,t){var n;const r=`/_api/members-groups-web/v1/permissions/${e}`,i={params:{resourceId:t}},o=this.getPermittedPagesMapFallback(t,!1);return await(null==(n=this.httpClient)?void 0:n.get(r,i).then((e=>{let{data:t}=e;return t.isPermitted})).catch((()=>null)))??o}async fetchRestrictedPagesPermission(){var e;const t=`/_api/members-groups-web/v1/groups/${this.adminGroupId}/permissions`,n=await(null==(e=this.httpClient)?void 0:e.get(t).then((e=>{let{data:t}=e;return t.permissions})).catch((()=>null)));return(null==n?void 0:n.find((e=>{let{context:t}=e;return this.restrictedPagesContext===t})))??null}hasRestrictedPages(e,t){return!(null==e||!e.resourceIds.length)&&t.some((t=>e.resourceIds.includes(t)))}shouldFetchPermittedPages(e,t){var n;return((null==(n=this.experiments)?void 0:n.enabled(this.permittedPagesExperiment))??!1)&&e.length>0&&"Site"===t}}const yt=e=>{const t={};return e.forEach((e=>{Object.entries(e.pages??{}).forEach((e=>{let[n,r]=e;t[n]=r}))})),t};const wt=e=>e.split("#");const Pt="_",St=/{(.*)}/,It=new RegExp(`\\.(${["wix.com","editorx.com"].join("|")})$`),At=new RegExp(`\\.(${["42.wixprod.net","uw2-edt-1.wixprod.net"].join("|")})$`),Ct=new RegExp(".*\\.dev.wix-code.com$");function xt(e){const t=function(e,t){const n=t[e]||t[Pt];if(!n&&function(e){return!!e.match(/\._base_domain_$/)}(e))return t[Mt];return n}(function(e){return e.replace("create.editorx.com","editor.editorx.com")}(e.host).replace(It,"._base_domain_").replace(At,"._api_base_domain_").replace(Ct,"*.dev.wix-code.com"),e.domainToMappings);var n,r;return function(e,t){const n=null==t?void 0:t.find((t=>e.startsWith(t.destPath)));if(!n)return e;return n.srcPath+e.slice(n.destPath.length)}((n=e.protoPath,r=e.data||{},n.split("/").map((e=>function(e,t){const n=e.match(St)||[],r=n[1];if(r){const i=e.replace(n[0],"");return function(e,t,n,r){let i=e;for(const e of t.split(".")){if(!i)return n;i=i[e]}return`${i}${r}`}(t,r,e,i)}return e}(e,r))).join("/")),t)}const Mt="www._base_domain_";function Rt(e,t=""){const n={};return Object.entries(e).forEach((([e,r])=>{const i=null!==r&&"object"==typeof r&&!Array.isArray(r),o=function(e,t){return`${e}${e?".":""}${t}`}(t,e);if(i){const e=Rt(r,o);Object.assign(n,e)}else n[o]=r})),n}function Ot(e){const t=Rt(e);return Object.entries(t).reduce(((e,[t,n])=>((Array.isArray(n)?n:[n]).forEach((n=>{null!=n&&e.append(t,n)})),e)),new URLSearchParams)}var Et;function Nt(e,t={},n){return function(r={},i){return"string"==typeof r?r:o(e,r);function o(e,t){const n={};return[null,void 0].includes(t)?t:(Object.entries(t).forEach((([t,r])=>{var i,o,u;const l=e[t],{schemaName:c,schemaType:f}=function(e=""){const[t,n]=wt(e);return n?{schemaName:n,schemaType:t}:{schemaName:t}}(l),d="Map"===f;let p;p=(null!==(u=null===(o=null===(i=a(c))||void 0===i?void 0:i.checkRepetable)||void 0===o?void 0:o.call(i,r))&&void 0!==u?u:Array.isArray(r))?r.map((e=>s(e,c))):d?function(e,t){return Object.entries(e).reduce(((e,[n,r])=>(e[n]=s(r,t),e)),{})}(r,c):s(r,c),n[t]=p})),n)}function s(e,n){if(!n)return e;const r=t[n];if(a(n))return a(n).transform(e);if(r)return o(r,e);throw new Error(`${n} is neither schema nor serializable type`)}function a(e){var t;return null===(t=n[e])||void 0===t?void 0:t[i]}}}!function(e){e[e.TO_JSON=0]="TO_JSON",e[e.FROM_JSON=1]="FROM_JSON"}(Et||(Et={}));const Dt={types:["google.protobuf.Timestamp"],[Et.TO_JSON]:{transform:e=>null==e?void 0:e.toISOString()},[Et.FROM_JSON]:{transform:e=>e?new Date(e):void 0}},Ut={types:["google.protobuf.FieldMask"],[Et.TO_JSON]:{transform:e=>e.join(","),checkRepetable:e=>e.some((e=>Array.isArray(e)))},[Et.FROM_JSON]:{transform:e=>"object"==typeof e?e.paths:e.split(",")}},Tt={types:["google.protobuf.BytesValue","BYTES"],[Et.TO_JSON]:{transform:e=>{const t=e.reduce(((e,t)=>e+String.fromCharCode(t)),"");return btoa(t)}},[Et.FROM_JSON]:{transform:e=>Uint8Array.from(atob(e),(e=>e.charCodeAt(0)))}},kt={types:["google.protobuf.Duration"],[Et.TO_JSON]:{transform:({seconds:e="0",nanos:t=0})=>{let n="";return 0!==t&&(n=`.${t.toString().padStart(9,"0")}`),`${e}${n}s`}},[Et.FROM_JSON]:{transform:e=>{const[t,n]=e.substring(0,e.length-1).split(".");return{seconds:t,nanos:Lt(n)}}}};function Lt(e){let t=0;if(void 0!==e){const n=3-e.length/3;t=parseInt(e,10)*Math.pow(1e3,n)}return t}const jt={types:["FLOAT","DOUBLE","google.protobuf.FloatValue","google.protobuf.DoubleValue"],[Et.TO_JSON]:{transform:e=>isFinite(e)?e:e.toString()},[Et.FROM_JSON]:{transform:e=>"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:e}};const Bt=[...[Dt,Ut,Tt,kt,jt]].reduce(((e,t)=>{const n=t.types.reduce(((e,n)=>Object.assign(Object.assign({},e),{[n]:t})),{});return Object.assign(Object.assign({},e),n)}),{});function Ft(e,t={}){const n=Nt(e,t,Bt);return{fromJSON(e){const t=function(e){try{return JSON.parse(e)}catch(e){}}(e)||e;return n(t,Et.FROM_JSON)},toJSON:e=>n(e,Et.TO_JSON)}}var Vt={},Wt={};function $t(e){return xt(Object.assign(e,{domainToMappings:{"api._api_base_domain_":[{srcPath:"/members/v1/roles",destPath:""}],_:[{srcPath:"/_api/members/v1/roles",destPath:"/v1/roles"}],"www._base_domain_":[{srcPath:"/_api/members/v1/roles",destPath:"/v1/roles"}],"members.wixapps.net":[{srcPath:"/_api/members/v1/roles",destPath:"/v1/roles"}],"www.wixapis.com":[{srcPath:"/members/v1/roles",destPath:"/v1/roles"}],"editor._base_domain_":[{srcPath:"/_api/members/v1/roles",destPath:"/v1/roles"}],"blocks._base_domain_":[{srcPath:"/_api/members/v1/roles",destPath:"/v1/roles"}],"create.editorx":[{srcPath:"/_api/members/v1/roles",destPath:"/v1/roles"}],"*.dev.wix-code.com":[{srcPath:"/_api/members/v1/roles",destPath:"/v1/roles"}],"manage._base_domain_":[{srcPath:"/_api/members/v1/roles",destPath:"/v1/roles"}]}}))}function Kt(e){var t=Ft(Vt,{}),n=t.toJSON,r=t.fromJSON,i=Ft(Wt,{}).fromJSON;function o(t){var r=t.host,o=n(e);return{entityFqdn:"wix.members.v1.role",method:"GET",methodFqn:"com.wixpress.members.memberroles.MemberRoles.GetRoles",url:$t({protoPath:"/v1/roles/members/{memberId}",data:o,host:r}),params:Ot(o),transformResponse:i}}return o.fromReq=r,o.__isAmbassador=!0,o}var Gt={},Ht={};function Jt(e){return xt(Object.assign(e,{domainToMappings:{"api._api_base_domain_":[{srcPath:"/activity-counters-api",destPath:""}],"www.wixapis.com":[{srcPath:"/members/v1/activity-counters",destPath:"/v1/activity-counters"}],_:[{srcPath:"/_api/members/v1/activity-counters",destPath:"/v1/activity-counters"}],"manage._base_domain_":[{srcPath:"/_api/members/v1/activity-counters",destPath:"/v1/activity-counters"}],"www._base_domain_":[{srcPath:"/_api/members/v1/activity-counters",destPath:"/v1/activity-counters"}],"*.dev.wix-code.com":[{srcPath:"/_api/members/v1/activity-counters",destPath:"/v1/activity-counters"}],"editor._base_domain_":[{srcPath:"/_api/members/v1/activity-counters",destPath:"/v1/activity-counters"}],"blocks._base_domain_":[{srcPath:"/_api/members/v1/activity-counters",destPath:"/v1/activity-counters"}],"create.editorx":[{srcPath:"/_api/members/v1/activity-counters",destPath:"/v1/activity-counters"}]}}))}function qt(e){var t=Ft(Gt,{}),n=t.toJSON,r=t.fromJSON,i=Ft(Ht,{}).fromJSON;function o(t){var r=t.host,o=n(e);return{entityFqdn:"wix.members.v1.activity_counter",method:"GET",methodFqn:"com.wixpress.members.activitycounters.ActivityCounters.GetActivityCounters",url:Jt({protoPath:"/v1/activity-counters/{memberId}",data:o,host:r}),params:Ot(o),transformResponse:i}}return o.fromReq=r,o.__isAmbassador=!0,o}var zt,Yt,Xt,Zt,Qt,en,tn,nn,rn,on,sn,an,un,ln,cn={},fn={};function dn(e){return xt(Object.assign(e,{domainToMappings:{"apps._base_domain_":[{srcPath:"/_api/members-feed-viewer",destPath:""}],_:[{srcPath:"/_api/members-feed-viewer",destPath:""}]}}))}!function(e){e.UNKNOWN_NOTIFICATION_TYPE="UNKNOWN_NOTIFICATION_TYPE",e.REGULAR="REGULAR",e.ALERT_WARNING="ALERT_WARNING",e.ALERT_INFO="ALERT_INFO"}(zt||(zt={})),function(e){e.UNKNOWN_CHANNEL="UNKNOWN_CHANNEL",e.WEB="WEB",e.MOBILE="MOBILE"}(Yt||(Yt={})),function(e){e.UNKNOWN_STATUS="UNKNOWN_STATUS",e.UNSEEN="UNSEEN",e.SEEN_BUT_UNREAD="SEEN_BUT_UNREAD",e.READ="READ",e.RESOLVED="RESOLVED",e.DISMISSED="DISMISSED"}(Xt||(Xt={})),function(e){e.UNKNOWN_TYPE="UNKNOWN_TYPE",e.WEB_URL="WEB_URL",e.MOBILE="MOBILE",e.DASHBOARD_PAGE="DASHBOARD_PAGE"}(Zt||(Zt={})),function(e){e.UNKNOWN_TYPE="UNKNOWN_TYPE",e.WEB_URL="WEB_URL",e.APP="APP",e.PERSON_AVATAR="PERSON_AVATAR"}(Qt||(Qt={})),function(e){e.UNKNOWN_ACTION_TYPE="UNKNOWN_ACTION_TYPE",e.DELETE="DELETE",e.STATUS_CHANGE="STATUS_CHANGE"}(en||(en={})),function(e){e.ASC="ASC",e.DESC="DESC"}(tn||(tn={})),function(e){e.UNKNOWN="UNKNOWN",e.ANONYMOUS_VISITOR="ANONYMOUS_VISITOR",e.MEMBER="MEMBER",e.WIX_USER="WIX_USER",e.APP="APP"}(nn||(nn={})),function(e){e.UNKNOWN_TYPE="UNKNOWN_TYPE",e.TEXT="TEXT"}(rn||(rn={})),function(e){e.UNKNOWN_TYPE="UNKNOWN_TYPE",e.WIX_USER="WIX_USER",e.APP="APP",e.CONTACT="CONTACT",e.SITE_MEMBER="SITE_MEMBER"}(on||(on={})),function(e){e.UNKNOWN_TYPE="UNKNOWN_TYPE",e.WEB_URL="WEB_URL",e.LIVE_SITE="LIVE_SITE",e.BACKOFFICE="BACKOFFICE"}(sn||(sn={})),function(e){e.UNKNOWN_TYPE="UNKNOWN_TYPE",e.APP="APP",e.PERSON_AVATAR="PERSON_AVATAR"}(an||(an={})),function(e){e.HOURS="HOURS",e.DAYS="DAYS",e.MINUTES="MINUTES"}(un||(un={})),function(e){e.UNKNOWN_TYPE="UNKNOWN_TYPE",e.DEV_CENTER="DEV_CENTER",e.LEGACY_PING="LEGACY_PING",e.AUTOMATIONS="AUTOMATIONS"}(ln||(ln={}));var pn,hn,gn,vn,mn,bn={},_n={};function yn(e){return xt(Object.assign(e,{domainToMappings:{"api._api_base_domain_":[{srcPath:"/notifications-feed-api-proxy",destPath:""}],"apps._base_domain_":[{srcPath:"/_api/ping/feed",destPath:"/api/v1/feed/notifications"}],"editor._base_domain_":[{srcPath:"/_api/ping/feed",destPath:"/api/v1/feed/notifications"}],"blocks._base_domain_":[{srcPath:"/_api/ping/feed",destPath:"/api/v1/feed/notifications"}],"create.editorx":[{srcPath:"/_api/ping/feed",destPath:"/api/v1/feed/notifications"}],"gapps._base_domain_":[{srcPath:"/_api/ping/feed",destPath:"/api/v1/feed/notifications"}],"manage._base_domain_":[{srcPath:"/_api/ping/feed",destPath:"/api/v1/feed/notifications"},{srcPath:"/_api/ping/notifications-feed/v1/feed",destPath:"/v1/feed"},{srcPath:"/_api/ping/notifications-feed/api/v1/feed",destPath:"/api/v1/feed"}],"www._base_domain_":[{srcPath:"/_api/ping/feed",destPath:"/api/v1/feed/notifications"},{srcPath:"/_api/ping/notifications-feed/v1/feed",destPath:"/v1/feed"},{srcPath:"/_api/ping/notifications-feed/api/v1/feed",destPath:"/api/v1/feed"}],_:[{srcPath:"/_api/ping/feed",destPath:"/api/v1/feed/notifications"}]}}))}async function wn(e){let{metaSiteId:t,flowAPI:n,memberId:r,wixCodeApi:i}=e;const o=null==i.site.getAppToken?void 0:i.site.getAppToken(Ce.Kh);if(!o)return null;const s=n.experiments.enabled(De.UseNotificationsV2Api);try{let e;if(s){const{data:{count:t}}=await n.httpClient.request(function(e){var t=Ft(cn,{}),n=t.toJSON,r=t.fromJSON,i=Ft(fn,{}).fromJSON;function o(t){var r=t.host,o=n(e);return{entityFqdn:"wix.notifications.members_feed.v1.members_viewer_feed_notification",method:"POST",methodFqn:"wix.notifications.members_feed_viewer.v1.MembersViewerFeedNotificationsService.CountViewerFeedNotifications",url:dn({protoPath:"/v1/members-viewer-feed-notifications/count",data:o,host:r}),data:o,transformResponse:i}}return o.fromReq=r,o.__isAmbassador=!0,o}({filter:{channel:Yt.WEB,status:Xt.UNSEEN},maxCount:100}),{signedInstance:o});e=t}else{var a;const i=await n.httpClient.request(function(e){var t=Ft(bn,{}),n=t.toJSON,r=t.fromJSON,i=Ft(_n,{}).fromJSON;function o(t){var r=t.host,o=n(e);return{entityFqdn:"wix.ping.feed.v1.notification",method:"POST",methodFqn:"com.wixpress.ping.feed.api.FeedService.GetNumberOfUnseenNotifications",url:yn({protoPath:"/api/v1/feed/notifications/unseen-notifications",data:o,host:r}),data:o,transformResponse:i}}return o.fromReq=r,o.__isAmbassador=!0,o}({shouldCancelMergeContactInMobile:!1,recipient:{contact:{metaSiteId:t,contactId:r}},feedFilter:{channel:vn.WEB},specialMigrationSpecs:[mn.HideChatNotifications]}),{signedInstance:o});e=null==i||null==(a=i.data)?void 0:a.numberOfUnseen}return e?{memberId:r,appId:Ee,counters:[{key:"notificationsCount",public:!1,count:e}]}:null}catch(e){var u;return null==(u=n.errorMonitor)||u.captureException(e),null}}async function Pn(e){let{memberId:t,loggedIn:n,biService:r,flowAPI:i,wixCodeApi:o}=e;try{var s,a;const[e,u]=await Promise.all([i.httpClient.request(qt({memberId:t})),n?wn({metaSiteId:null==r||null==(s=r.bi)?void 0:s.metaSiteId,memberId:t,flowAPI:i,wixCodeApi:o}):null]),l=i.experiments.enabled(De.FilterConflictingActivityCounters),c=function(e,t){if(!t)return e;const n=[];return e.forEach((e=>{var t;if(e.appId!==Ee)return n.push(e);const r=null==(t=e.counters)?void 0:t.filter((e=>{let{key:t}=e;return"notificationsCount"!==t}));null!=r&&r.length&&n.push({...e,counters:r})})),n}((null==e||null==(a=e.data)?void 0:a.activityCounters)||[],l);u&&c.push(u);return c.map((e=>{var t;return{appDefId:e.appId,numbers:null==(t=e.counters)?void 0:t.reduce(((e,t)=>(e[t.key]={public:t.public,count:t.count},e)),{})}}))}catch(e){var u;return null==(u=i.errorMonitor)||u.captureException(e),[]}}!function(e){e.UNSEEN="UNSEEN",e.SEEN_BUT_UNREAD="SEEN_BUT_UNREAD",e.READ="READ",e.RESOLVED="RESOLVED",e.DISMISSED="DISMISSED",e.DELETED="DELETED"}(pn||(pn={})),function(e){e.REGULAR="REGULAR",e.ALERT_WARNING="ALERT_WARNING",e.ALERT_INFO="ALERT_INFO"}(hn||(hn={})),function(e){e.UrlIcon="UrlIcon",e.AppIcon="AppIcon",e.PersonAvatar="PersonAvatar"}(gn||(gn={})),function(e){e.UNKOWN="UNKOWN",e.WEB="WEB",e.MOBILE="MOBILE"}(vn||(vn={})),function(e){e.HideChatNotifications="HideChatNotifications"}(mn||(mn={}));class Sn{constructor(e){this.httpClient=e}async get(e){try{return(await this.httpClient.get(e)).data}catch(e){return console.log("error fetching data",e.message),{}}}async post(e,t){try{return(await this.httpClient.post(e,t)).data}catch(e){return console.log("error posting data",e.message),{}}}}const In="current-user-slug",An="current-user-id";function Cn(e,t,n){let r,i,o;return{getCurrentUser:function(){return i??{}},setCurrentUser:async function(t,n){const r=await function(t,n){const r=Qe(),i=r.getItem(In),o=r.getItem(An);if(i&&o===t.id)return i;o&&o===t.id||r.setItem(An,t.id);if(!t.loggedIn||"Site"!==e.window.viewMode)return t.id;return async function(e){var t;const n=new Sn(e),r=await n.get("/_api/members/v1/members/my");return null==(t=r.member)||null==(t=t.profile)?void 0:t.slug}(n).then((e=>{const n=e||t.id;return r.setItem(In,n),n})).catch((()=>qe("Error while fetching current user slug",{userDataId:t.id})))}(t,n);i={id:t.id,loggedIn:t.loggedIn,slug:r}},getViewedUser:function(){return r??{}},setViewedUser:function(e){e&&(r=e)},fetchRoles:async function(e,t,n){var r,i;const[o,s]=await Promise.all([e?n.request(Kt({memberId:e})).catch((()=>{})):void 0,t?n.request(Kt({memberId:t})).catch((()=>{})):void 0]);return{...o&&{[e]:(null==o||null==(r=o.data)||null==(r=r.roles)?void 0:r.map((e=>{var t;return null==(t=e.roleKey)?void 0:t.toLocaleLowerCase()})))||[]},...s&&{[t]:(null==s||null==(i=s.data)||null==(i=i.roles)?void 0:i.map((e=>{var t;return null==(t=e.roleKey)?void 0:t.toLocaleLowerCase()})))||[]}}},getRoles:function(){return o??{}},setRoles:function(e){o=e},fetchMenuCounters:function(r){return r&&!1!==r.loggedIn?new Promise(((i,o)=>{const s=r&&r.id;s?Pn({memberId:s,loggedIn:!!r.loggedIn,biService:t,flowAPI:n,wixCodeApi:e}).then((e=>i({apps:e}))):o(new Error("No user to get menu counters by"))})):Promise.resolve({apps:[]})},replaceUserPatternWithSlug:function(e,t){return e.replace(ke,t.slug).replace(encodeURI(ke),t.slug)}}}let xn,Mn,Rn,On,En,Nn;const Dn=async(e,t,n,r,i)=>{let{appDefinitionId:o,routerReturnedData:s,appRouters:a=[]}=e,{storage:u}=t;var l,c;if(On=Cn(n,i,r),Nn=(e=>new bt(e.memory))(u),l=r.httpClient,c=r.experiments,En=new _t(l,c),Rn=new mt({appRouters:a,routerReturnedData:s,wixCodeApi:n,cacheService:Nn,flowAPI:r}),function(e){Ze=e}(u.memory),await On.setCurrentUser(n.user.currentUser,r.httpClient),!s)return Promise.resolve();const f=null==n.site.getAppToken?void 0:n.site.getAppToken(o),d=s.memberData&&s.memberData.slugs||[],p=s.memberData&&s.memberData.memberContactId||s.userId,h=d.find((e=>e.primary)),g={id:p,slug:h&&h.name||p};On.setViewedUser(g),On.setRoles(s.roles||{}),s.roles&&Nn.setRoles(f,p,s.roles)},Un=async(e,t)=>{if(t)return{currentUserCounters:void 0,viewedUserCounters:void 0};const n=On.getCurrentUser(),r=On.getViewedUser(),i=async t=>{if(Nn.hasNumbers(e,t.id))return Nn.getNumbers(e,t.id);const n=await On.fetchMenuCounters(t);return Nn.setNumbers(e,t.id,n),n},o=r.id===n.id,s=i(n),a=o?s:r.id?i(r):Promise.resolve({apps:[]}),[u,l]=await Promise.all([s,a]);return{currentUserCounters:u,viewedUserCounters:l}},Tn=async(e,t)=>{const n=On.getCurrentUser(),r=On.getViewedUser();if(Nn.hasRoles(e,null==r?void 0:r.id))return Nn.getRoles(e,null==r?void 0:r.id);const i=await On.fetchRoles(r.id,n.id,t);return Nn.setRoles(e,null==r?void 0:r.id,i),i};function kn(e,t,n){const{wixCodeApi:r,$w:i}=e,o=On.getViewedUser(),s=On.getCurrentUser(),a="Mobile"===r.window.formFactor,u=Qe(),{permittedPagesMap:l,parsedRoutersConfigs:c,viewedUserRoles:f,parsedConfigItems:d,counters:{viewedUserCounters:p},publicRouterPrefix:h}=t;Je("renderMembersMenuItems",(()=>ht({$w:i,wixCodeApi:r,parsedRoutersConfigs:c,viewedUserRoles:f,viewedUser:o,currentUser:s,appsCounters:p,parsedConfigItems:d,memoryStorage:u,publicRouterPrefix:h,permittedPagesMap:l,experiments:n.experiments,isMobile:a,flowAPI:n})))()}function Ln(e,t){const{$w:n,essentials:{experiments:r},wixCodeApi:i}=e,o=On.getCurrentUser(),s="Mobile"===i.window.formFactor,a=Qe(),{permittedPagesMap:u,parsedRoutersConfigs:l,counters:{currentUserCounters:c},publicRouterPrefix:f,currentUserRoles:d}=t;Je("renderLoginMenuItems",(()=>function(e){let{$w:t,parsedRoutersConfigs:n=[],currentUserRoles:r,currentUser:i,appsCounters:o,memoryStorage:s,publicRouterPrefix:a,permittedPagesMap:u={},experiments:l,isMobile:c}=e;if(i.loggedIn){const e=t(Fe),f=t(We);e.forEach((e=>ct({menu:e,parsedRoutersConfigs:n,currentUserRoles:r,currentUser:i,appsCounters:o,memoryStorage:s,publicRouterPrefix:a,permittedPagesMap:u,experiments:l,isMobile:c}))),f.forEach((e=>ct({menu:e,parsedRoutersConfigs:n,currentUserRoles:r,currentUser:i,appsCounters:o,memoryStorage:s,publicRouterPrefix:a,permittedPagesMap:u,experiments:l,isMobile:c}))),et.setMembersLoginWidgets([...et.getMembersLoginWidgets(),...e,...f])}}({$w:n,parsedRoutersConfigs:l,currentUserRoles:d,currentUser:o,appsCounters:c,memoryStorage:a,publicRouterPrefix:f,permittedPagesMap:u,experiments:r,isMobile:s,wixCodeApi:i})))()}function jn(e,t,n){Ln(e,t),kn(e,t,n)}const Bn=e=>{xn=e},Fn=(e,t)=>On.setCurrentUser(e,t),Vn=(e,t,n)=>{const r=((e,t)=>{const{prefix:n,path:r}=e.location,i=t.find((e=>{let{config:{type:t}}=e;return"public"===t}));if((null==i?void 0:i.prefix)===n){const[,...e]=r;return`/${n}/${ke}/${e.join("/")}`}return`/${n}/${r.join("/")}`})(t,n),i=e=>{if(e.onChange){var t;const n=null==(t=e.options)?void 0:t.find((e=>{let{link:t}=e;return t===r}));e.value=(null==n?void 0:n.value)??e.value}};e(Ve).forEach(i),e($e).forEach(i)},Wn=async e=>{let{controllerConfig:t,appData:n,flowAPI:r}=e;const{wixCodeApi:i,$w:o}=t,s=t,a=!!o(Fe).length,u=!!o(We).length,l=!!o(Ve).length,c=!!o($e).length,f=a||u||l||c;if((e=>{Mn=e})(s),!f)return{async pageReady(){await(null==n?void 0:n.initApplication())}};const d="Editor"===i.window.viewMode;return Bn(s),{async pageReady(){const e=await(null==n?void 0:n.initApplication());i.user.onLogin((t=>Je("onLogin",(()=>Fn(t,r.httpClient).then((()=>jn(s,e,r)))))())),d?r.environment.isMobile&&Vn(o,i,e.parsedRouters):jn(s,e,r)}}},$n=async e=>{let{controllerConfig:t}=e;const n=t;return et.setGlobalControllerConfig(n),{async pageReady(){}}},Kn=async e=>{let{controllerConfig:t}=e;const n=t;return et.setGlobalControllerConfig(n),{async pageReady(){}}},Gn=async e=>(await(async e=>{const[t,n]=await Promise.all([Me(e.controllerConfig.wixCodeApi),xe(e.controllerConfig.wixCodeApi)]);return t?Kn:n?$n:Wn})(e.flowAPI))(e),Hn=async e=>{let{controllerConfig:t,appData:n,flowAPI:r}=e;const{wixCodeApi:i,$w:o}=t,s="Editor"===i.window.viewMode,a=t;return Bn(a),{async pageReady(){const e=await(null==n?void 0:n.initApplication());i.user.onLogin((t=>Je("onLogin",(()=>Fn(t,r.httpClient).then((()=>Ln(a,e)))))())),s?r.environment.isMobile&&Vn(o,i,e.parsedRouters):Ln(a,e)}}},Jn=e=>e(We);var qn,zn,Yn,Xn,Zn,Qn,er,tr,nr,rr={},ir={member:"_member"},or={createdDate:"google.protobuf.Timestamp",updatedDate:"google.protobuf.Timestamp",lastLoginDate:"google.protobuf.Timestamp"};function sr(e){return xt(Object.assign(e,{domainToMappings:{"www.wixapis.com":[{srcPath:"/members/v1/members",destPath:"/v1/members"}],"api._api_base_domain_":[{srcPath:"/members-ng-api",destPath:""}],"www._base_domain_":[{srcPath:"/_api/members/v1/members",destPath:"/v1/members"}],"manage._base_domain_":[{srcPath:"/_api/members/v1/members",destPath:"/v1/members"}],"editor._base_domain_":[{srcPath:"/_api/members/v1/members",destPath:"/v1/members"}],"blocks._base_domain_":[{srcPath:"/_api/members/v1/members",destPath:"/v1/members"}],"create.editorx":[{srcPath:"/_api/members/v1/members",destPath:"/v1/members"}],"editor.wixapps.net":[{srcPath:"/_api/members/v1/members",destPath:"/v1/members"}],"*.dev.wix-code.com":[{srcPath:"/_api/members/v1/members",destPath:"/v1/members"}],"bo._base_domain_":[{srcPath:"/_api/members/v1/members",destPath:"/v1/members"}],"wixbo.ai":[{srcPath:"/_api/members/v1/members",destPath:"/v1/members"}],_:[{srcPath:"/_api/members/v1/members",destPath:"/v1/members"}],"members.wixapps.net":[{srcPath:"/_api/members/v1/members",destPath:"/v1/members"}]}}))}!function(e){e.UNKNOWN="UNKNOWN",e.PENDING="PENDING",e.APPROVED="APPROVED",e.BLOCKED="BLOCKED",e.OFFLINE="OFFLINE"}(qn||(qn={})),function(e){e.UNKNOWN="UNKNOWN",e.PRIVATE="PRIVATE",e.PUBLIC="PUBLIC"}(zn||(zn={})),function(e){e.UNKNOWN="UNKNOWN",e.ACTIVE="ACTIVE",e.MUTED="MUTED"}(Yn||(Yn={})),function(e){e.PUBLIC="PUBLIC",e.EXTENDED="EXTENDED",e.FULL="FULL"}(Xn||(Xn={})),function(e){e.ASC="ASC",e.DESC="DESC"}(Zn||(Zn={})),function(e){e.UNKNOWN="UNKNOWN",e.ENABLED="ENABLED",e.DISABLED="DISABLED",e.PENDING="PENDING",e.DEMO="DEMO"}(Qn||(Qn={})),function(e){e.OTHER="OTHER",e.FROM_TEMPLATE="FROM_TEMPLATE",e.DUPLICATE_BY_SITE_TRANSFER="DUPLICATE_BY_SITE_TRANSFER",e.DUPLICATE="DUPLICATE",e.OLD_SITE_TRANSFER="OLD_SITE_TRANSFER",e.FLASH="FLASH"}(er||(er={})),function(e){e.UNKNOWN_NAMESPACE="UNKNOWN_NAMESPACE",e.WIX="WIX",e.SHOUT_OUT="SHOUT_OUT",e.ALBUMS="ALBUMS",e.WIX_STORES_TEST_DRIVE="WIX_STORES_TEST_DRIVE",e.HOTELS="HOTELS",e.CLUBS="CLUBS",e.ONBOARDING_DRAFT="ONBOARDING_DRAFT",e.DEV_SITE="DEV_SITE",e.LOGOS="LOGOS",e.VIDEO_MAKER="VIDEO_MAKER",e.PARTNER_DASHBOARD="PARTNER_DASHBOARD",e.DEV_CENTER_COMPANY="DEV_CENTER_COMPANY",e.HTML_DRAFT="HTML_DRAFT",e.SITELESS_BUSINESS="SITELESS_BUSINESS",e.CREATOR_ECONOMY="CREATOR_ECONOMY",e.DASHBOARD_FIRST="DASHBOARD_FIRST",e.ANYWHERE="ANYWHERE",e.HEADLESS="HEADLESS",e.ACCOUNT_MASTER_CMS="ACCOUNT_MASTER_CMS",e.RISE="RISE",e.BRANDED_FIRST="BRANDED_FIRST"}(tr||(tr={})),function(e){e.UNKNOWN="UNKNOWN",e.TRASH="TRASH",e.DELETED="DELETED",e.PENDING_PURGE="PENDING_PURGE"}(nr||(nr={}));class ar{constructor(e){this.httpClient=e}async getCurrentUser(){const{data:e}=await this.httpClient.request(function(e){var t=Ft(rr,{}),n=t.toJSON,r=t.fromJSON,i=Ft(ir,{_member:or}).fromJSON;function o(t){var r=t.host,o=n(e);return{entityFqdn:"wix.members.v1.member",method:"GET",methodFqn:"com.wixpress.members.api.Members.GetMyMember",url:sr({protoPath:"/v1/members/my",data:o,host:r}),params:Ot(o),transformResponse:i}}return o.fromReq=r,o.__isAmbassador=!0,o}({fieldSet:Xn.FULL}));return e.member??null}}class ur{constructor(e,t,n){this.memoryStorage=e,this.site=t,this.appDefId=n}hasCurrentUser(){const e=this.getCurrentUserCacheKey();return this.hasItemInStorage(e)}getCurrentUser(){const e=this.getCurrentUserCacheKey();return this.getItemFromStorage(e)}setCurrentUser(e){const t=this.getCurrentUserCacheKey();return this.setItemToStorage(t,e)}hasRoles(){const e=this.getRolesCacheKey();return this.hasItemInStorage(e)}getRoles(){const e=this.getRolesCacheKey();return this.getItemFromStorage(e)??[]}setRoles(e){const t=this.getRolesCacheKey();return this.setItemToStorage(t,e)}hasRoutes(){const e=this.getRoutesCacheKey();return this.hasItemInStorage(e)}getRoutes(){const e=this.getRoutesCacheKey();return this.getItemFromStorage(e)??[]}setRoutes(e){const t=this.getRoutesCacheKey();return this.setItemToStorage(t,e)}hasLoginMenuItems(){const e=this.getLoginBarMenuCacheKey();return this.hasItemInStorage(e)}getLoginMenuItems(){const e=this.getLoginBarMenuCacheKey();return this.getItemFromStorage(e)??[]}setLoginMenuItems(e){const t=this.getLoginBarMenuCacheKey();return this.setItemToStorage(t,e)}getRoutesCacheKey(){var e,t;return`members-routes-${null==(e=(t=this.site).getAppToken)?void 0:e.call(t,this.appDefId)}`}getRolesCacheKey(){var e,t;return`members-roles-${null==(e=(t=this.site).getAppToken)?void 0:e.call(t,this.appDefId)}`}getCurrentUserCacheKey(){var e,t;return`members-cu-${null==(e=(t=this.site).getAppToken)?void 0:e.call(t,this.appDefId)}`}getLoginBarMenuCacheKey(){var e,t;return`members-login-bar-${null==(e=(t=this.site).getAppToken)?void 0:e.call(t,this.appDefId)}`}hasItemInStorage(e){return!!this.memoryStorage.getItem(e)}getItemFromStorage(e){const t=this.memoryStorage.getItem(e);return t?JSON.parse(t):null}setItemToStorage(e,t){return this.memoryStorage.setItem(e,JSON.stringify(t))}}class lr{constructor(e){this.httpClient=e}async getMemberRoles(e){var t;const{data:n}=await this.httpClient.request(Kt({memberId:e}));return(null==(t=n.roles)?void 0:t.map((e=>{var t;return null==(t=e.roleKey)?void 0:t.toLocaleLowerCase()})))||[]}}class cr{constructor(e){this.viewerWarmupDataService=e,Xe()(this,"callMap",{})}getData(e){if(this.callMap[e])return null;const t=this.viewerWarmupDataService.get(e);return this.callMap[e]=!0,t}setData(e,t){return this.viewerWarmupDataService.set(e,t)}}const fr=e=>{let{flowAPI:t,controllerConfig:{platformAPIs:n,wixCodeApi:r,appParams:i}}=e;return{currentUserService:new ar(t.httpClient),rolesService:new lr(t.httpClient),cacheService:new ur(n.storage.memory,r.site,i.appDefinitionId),warmupDataService:new cr(r.window.warmupData)}};function dr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var pr={};function hr(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:pr}var gr=Object.assign,vr=Object.getOwnPropertyDescriptor,mr=Object.defineProperty,br=Object.prototype,_r=[];Object.freeze(_r);var yr={};Object.freeze(yr);var wr="undefined"!=typeof Proxy,Pr=Object.toString();function Sr(){wr||dr("Proxy not available")}function Ir(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Ar=function(){};function Cr(e){return"function"==typeof e}function xr(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function Mr(e){return null!==e&&"object"==typeof e}function Rr(e){if(!Mr(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===Pr}function Or(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function Er(e,t,n){mr(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Nr(e,t,n){mr(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Dr(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return Mr(e)&&!0===e[n]}}function Ur(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function Tr(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var kr=void 0!==Object.getOwnPropertySymbols;var Lr="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:kr?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function jr(e){return null===e?null:"object"==typeof e?""+e:e}function Br(e,t){return br.hasOwnProperty.call(e,t)}var Fr=Object.getOwnPropertyDescriptors||function(e){var t={};return Lr(e).forEach((function(n){t[n]=vr(e,n)})),t};function Vr(e,t){return!!(e&t)}function Wr(e,t,n){return n?e|=t:e&=~t,e}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yr(r.key),r)}}function Gr(e,t,n){return t&&Kr(e.prototype,t),n&&Kr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jr.apply(null,arguments)}function qr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,zr(e,t)}function zr(e,t){return zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zr(e,t)}function Yr(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var Xr=Symbol("mobx-stored-annotations");function Zr(e){return Object.assign((function(t,n){if(ei(n))return e.decorate_20223_(t,n);Qr(t,n,e)}),e)}function Qr(e,t,n){Br(e,Xr)||Er(e,Xr,Jr({},e[Xr])),function(e){return e.annotationType_===ui}(n)||(e[Xr][t]=n)}function ei(e){return"object"==typeof e&&"string"==typeof e.kind}var ti=Symbol("mobx administration"),ni=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=so.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return Eo(this)},t.reportChanged=function(){Ro(),No(this),Oo()},t.toString=function(){return this.name_},Gr(e,[{key:"isBeingObserved",get:function(){return Vr(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=Wr(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return Vr(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=Wr(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return Vr(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=Wr(this.flags_,e.diffValueMask_,1===t)}}])}();ni.isBeingObservedMask_=1,ni.isPendingUnobservationMask_=2,ni.diffValueMask_=4;var ri=Dr("Atom",ni);function ii(e,t,n){void 0===t&&(t=Ar),void 0===n&&(n=Ar);var r,i=new ni(e);return t!==Ar&&ns(Qo,i,t,r),n!==Ar&&ts(i,n),i}var oi={identity:function(e,t){return e===t},structural:function(e,t){return _a(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return _a(e,t,1)}};function si(e,t,n){return hs(e)?e:Array.isArray(e)?Ki.array(e,{name:n}):Rr(e)?Ki.object(e,void 0,{name:n}):Ur(e)?Ki.map(e,{name:n}):Tr(e)?Ki.set(e,{name:n}):"function"!=typeof e||zo(e)||ds(e)?e:Or(e)?cs(e):qo(n,e)}function ai(e){return e}var ui="override";function li(e,t){return{annotationType_:e,options_:t,make_:ci,extend_:fi,decorate_20223_:di}}function ci(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(zo(n.value))return 1;var o=pi(e,this,t,n,!1);return mr(r,t,o),2}function fi(e,t,n,r){var i=pi(e,this,t,n);return e.defineProperty_(t,i,r)}function di(e,t){var n,r=t.kind,i=t.name,o=t.addInitializer,s=this,a=function(e){var t,n,r,o;return Qi(null!=(t=null==(n=s.options_)?void 0:n.name)?t:i.toString(),e,null!=(r=null==(o=s.options_)?void 0:o.autoAction)&&r)};return"field"==r?function(e){var t,n=e;return zo(n)||(n=a(n)),null!=(t=s.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==r?(zo(e)||(e=a(e)),null!=(n=this.options_)&&n.bound&&o((function(){var e=this,t=e[i].bind(e);t.isMobxAction=!0,e[i]=t})),e):void dr("Cannot apply '"+s.annotationType_+"' to '"+String(i)+"' (kind: "+r+"):\n'"+s.annotationType_+"' can only be used on properties with a function value.")}function pi(e,t,n,r,i){var o,s,a,u,l,c,f,d;void 0===i&&(i=Ao.safeDescriptors),d=r,t.annotationType_,d.value;var p,h=r.value;null!=(o=t.options_)&&o.bound&&(h=h.bind(null!=(p=e.proxy_)?p:e.target_));return{value:Qi(null!=(s=null==(a=t.options_)?void 0:a.name)?s:n.toString(),h,null!=(u=null==(l=t.options_)?void 0:l.autoAction)&&u,null!=(c=t.options_)&&c.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function hi(e,t){return{annotationType_:e,options_:t,make_:gi,extend_:vi,decorate_20223_:mi}}function gi(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!Br(e.target_,t)||!ds(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(ds(n.value))return 1;var o=bi(e,this,t,n,!1,!1);return mr(r,t,o),2}function vi(e,t,n,r){var i,o=bi(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function mi(e,t){var n;var r=t.name,i=t.addInitializer;return ds(e)||(e=cs(e)),null!=(n=this.options_)&&n.bound&&i((function(){var e=this,t=e[r].bind(e);t.isMobXFlow=!0,e[r]=t})),e}function bi(e,t,n,r,i,o){var s;void 0===o&&(o=Ao.safeDescriptors),s=r,t.annotationType_,s.value;var a,u=r.value;(ds(u)||(u=cs(u)),i)&&((u=u.bind(null!=(a=e.proxy_)?a:e.target_)).isMobXFlow=!0);return{value:u,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function _i(e,t){return{annotationType_:e,options_:t,make_:yi,extend_:wi,decorate_20223_:Pi}}function yi(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function wi(e,t,n,r){return function(e,t,n,r){t.annotationType_,r.get;0}(0,this,0,n),e.defineComputedProperty_(t,Jr({},this.options_,{get:n.get,set:n.set}),r)}function Pi(e,t){var n=this,r=t.name;return(0,t.addInitializer)((function(){var t=Ys(this)[ti],i=Jr({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),t.values_.set(r,new oo(i))})),function(){return this[ti].getObservablePropValue_(r)}}function Si(e,t){return{annotationType_:e,options_:t,make_:Ii,extend_:Ai,decorate_20223_:Ci}}function Ii(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function Ai(e,t,n,r){var i,o;return function(e,t,n,r){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:si,r)}function Ci(e,t){var n=this,r=t.kind,i=t.name,o=new WeakSet;function s(e,t){var r,s,a=Ys(e)[ti],u=new io(t,null!=(r=null==(s=n.options_)?void 0:s.enhancer)?r:si,"ObservableObject."+i.toString(),!1);a.values_.set(i,u),o.add(e)}if("accessor"==r)return{get:function(){return o.has(this)||s(this,e.get.call(this)),this[ti].getObservablePropValue_(i)},set:function(e){return o.has(this)||s(this,e),this[ti].setObservablePropValue_(i,e)},init:function(e){return o.has(this)||s(this,e),e}}}var xi="true",Mi=Ri();function Ri(e){return{annotationType_:xi,options_:e,make_:Oi,extend_:Ei,decorate_20223_:Ni}}function Oi(e,t,n,r){var i,o,s,a;if(n.get)return qi.make_(e,t,n,r);if(n.set){var u=Qi(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!Ao.safeDescriptors||e.isPlainObject_,set:u})?0:2:(mr(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&"function"==typeof n.value)return Or(n.value)?(null!=(a=this.options_)&&a.autoBind?cs.bound:cs).make_(e,t,n,r):(null!=(s=this.options_)&&s.autoBind?qo.bound:qo).make_(e,t,n,r);var l,c=!1===(null==(i=this.options_)?void 0:i.deep)?Ki.ref:Ki;"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(l=e.proxy_)?l:e.target_));return c.make_(e,t,n,r)}function Ei(e,t,n,r){var i,o,s;if(n.get)return qi.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!Ao.safeDescriptors||e.isPlainObject_,set:Qi(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(s=e.proxy_)?s:e.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?Ki.ref:Ki).extend_(e,t,n,r)}function Ni(e,t){dr("'"+this.annotationType_+"' cannot be used as a decorator")}var Di={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Ui(e){return e||Di}Object.freeze(Di);var Ti=Si("observable"),ki=Si("observable.ref",{enhancer:ai}),Li=Si("observable.shallow",{enhancer:function(e,t,n){return null==e||Qs(e)||ks(e)||Vs(e)||Gs(e)?e:Array.isArray(e)?Ki.array(e,{name:n,deep:!1}):Rr(e)?Ki.object(e,void 0,{name:n,deep:!1}):Ur(e)?Ki.map(e,{name:n,deep:!1}):Tr(e)?Ki.set(e,{name:n,deep:!1}):void 0}}),ji=Si("observable.struct",{enhancer:function(e,t){return _a(e,t)?t:e}}),Bi=Zr(Ti);function Fi(e){return!0===e.deep?si:!1===e.deep?ai:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:si;var t,n,r}function Vi(e,t,n){return ei(t)?Ti.decorate_20223_(e,t):xr(t)?void Qr(e,t,Ti):hs(e)?e:Rr(e)?Ki.object(e,t,n):Array.isArray(e)?Ki.array(e,t):Ur(e)?Ki.map(e,t):Tr(e)?Ki.set(e,t):"object"==typeof e&&null!==e?e:Ki.box(e,t)}gr(Vi,Bi);var Wi,$i,Ki=gr(Vi,{box:function(e,t){var n=Ui(t);return new io(e,Fi(n),n.name,!0,n.equals)},array:function(e,t){var n=Ui(t);return(!1===Ao.useProxies||!1===n.proxy?da:Rs)(e,Fi(n),n.name)},map:function(e,t){var n=Ui(t);return new Fs(e,Fi(n),n.name)},set:function(e,t){var n=Ui(t);return new Ks(e,Fi(n),n.name)},object:function(e,t,n){return va((function(){return os(!1===Ao.useProxies||!1===(null==n?void 0:n.proxy)?Ys({},n):function(e,t){var n,r;return Sr(),e=Ys(e,t),null!=(r=(n=e[ti]).proxy_)?r:n.proxy_=new Proxy(e,ms)}({},n),e,t)}))},ref:Zr(ki),shallow:Zr(Li),deep:Bi,struct:Zr(ji)}),Gi="computed",Hi=_i(Gi),Ji=_i("computed.struct",{equals:oi.structural}),qi=function(e,t){if(ei(t))return Hi.decorate_20223_(e,t);if(xr(t))return Qr(e,t,Hi);if(Rr(e))return Zr(_i(Gi,e));var n=Rr(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new oo(n)};Object.assign(qi,Hi),qi.struct=Zr(Ji);var zi=0,Yi=1,Xi=null!=(Wi=null==($i=vr((function(){}),"name"))?void 0:$i.configurable)&&Wi,Zi={value:"action",configurable:!0,writable:!1,enumerable:!1};function Qi(e,t,n,r){function i(){return eo(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,i.toString=function(){return t.toString()},Xi&&(Zi.value=e,mr(i,"name",Zi)),i}function eo(e,t,n,r,i){var o=function(e,t,n,r){var i=!1,o=0;0;var s=Ao.trackingDerivation,a=!t||!s;Ro();var u=Ao.allowStateChanges;a&&(mo(),u=no(!0));var l=_o(!0),c={runAsAction_:a,prevDerivation_:s,prevAllowStateChanges_:u,prevAllowStateReads_:l,notifySpy_:i,startTime_:o,actionId_:Yi++,parentActionId_:zi};return zi=c.actionId_,c}(0,t);try{return n.apply(r,i)}catch(e){throw o.error_=e,e}finally{!function(e){zi!==e.actionId_&&dr(30);zi=e.parentActionId_,void 0!==e.error_&&(Ao.suppressReactionErrors=!0);ro(e.prevAllowStateChanges_),yo(e.prevAllowStateReads_),Oo(),e.runAsAction_&&bo(e.prevDerivation_);0;Ao.suppressReactionErrors=!1}(o)}}function to(e,t){var n=no(e);try{return t()}finally{ro(n)}}function no(e){var t=Ao.allowStateChanges;return Ao.allowStateChanges=e,t}function ro(e){Ao.allowStateChanges=e}var io=function(e){function t(t,n,r,i,o){var s;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=oi.default),(s=e.call(this,r)||this).enhancer=void 0,s.name_=void 0,s.equals=void 0,s.hasUnreportedChange_=!1,s.interceptors_=void 0,s.changeListeners_=void 0,s.value_=void 0,s.dehancer=void 0,s.enhancer=n,s.name_=r,s.equals=o,s.value_=n(t,void 0,r),s}qr(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==Ao.UNCHANGED){0,this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(po(this),bs(this)){var t=ys(this,{object:this,type:Cs,newValue:e});if(!t)return Ao.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?Ao.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),ws(this)&&Ss(this,{type:Cs,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return _s(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Cs,newValue:this.value_,oldValue:void 0}),Ps(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return jr(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(ni),oo=function(){function e(e){this.dependenciesState_=so.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=so.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new lo(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ao.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||dr(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Qi("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?oi.structural:oi.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==so.UP_TO_DATE_)return;e.lowestObserverState_=so.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===so.UP_TO_DATE_&&(e.dependenciesState_=so.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing&&dr(32,this.name_,this.derivation),0!==Ao.inBatch||0!==this.observers_.size||this.keepAlive_){if(Eo(this),fo(this)){var e=Ao.trackingContext;this.keepAlive_&&!e&&(Ao.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===so.STALE_)return;e.lowestObserverState_=so.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===so.POSSIBLY_STALE_?t.dependenciesState_=so.STALE_:t.dependenciesState_===so.UP_TO_DATE_&&(e.lowestObserverState_=so.UP_TO_DATE_)}))}(this),Ao.trackingContext=e}}else fo(this)&&(this.warnAboutUntrackedRead_(),Ro(),this.value_=this.computeValue_(!1),Oo());var t=this.value_;if(co(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter&&dr(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else dr(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===so.NOT_TRACKING_,n=this.computeValue_(!0),r=t||co(e)||co(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing=!0;var t,n=no(!1);if(e)t=ho(this,this.derivation,this.scope_);else if(!0===Ao.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new lo(e)}return ro(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(go(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return Yo((function(){var o=n.get();if(!r||t){var s=mo();e({observableKind:"computed",debugObjectName:n.name_,type:Cs,object:n,newValue:o,oldValue:i}),bo(s)}r=!1,i=o}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return jr(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Gr(e,[{key:"isComputing",get:function(){return Vr(this.flags_,e.isComputingMask_)},set:function(t){this.flags_=Wr(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return Vr(this.flags_,e.isRunningSetterMask_)},set:function(t){this.flags_=Wr(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return Vr(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=Wr(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return Vr(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=Wr(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return Vr(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=Wr(this.flags_,e.diffValueMask_,1===t)}}])}();oo.isComputingMask_=1,oo.isRunningSetterMask_=2,oo.isBeingObservedMask_=4,oo.isPendingUnobservationMask_=8,oo.diffValueMask_=16;var so,ao,uo=Dr("ComputedValue",oo);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(so||(so={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(ao||(ao={}));var lo=function(e){this.cause=void 0,this.cause=e};function co(e){return e instanceof lo}function fo(e){switch(e.dependenciesState_){case so.UP_TO_DATE_:return!1;case so.NOT_TRACKING_:case so.STALE_:return!0;case so.POSSIBLY_STALE_:for(var t=_o(!0),n=mo(),r=e.observing_,i=r.length,o=0;o<i;o++){var s=r[o];if(uo(s)){if(Ao.disableErrorBoundaries)s.get();else try{s.get()}catch(e){return bo(n),yo(t),!0}if(e.dependenciesState_===so.STALE_)return bo(n),yo(t),!0}}return wo(e),bo(n),yo(t),!1}}function po(e){}function ho(e,t,n){var r=_o(!0);wo(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++Ao.runId;var i,o=Ao.trackingDerivation;if(Ao.trackingDerivation=e,Ao.inBatch++,!0===Ao.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new lo(e)}return Ao.inBatch--,Ao.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=so.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,s=0;s<o;s++){var a=n[s];0===a.diffValue&&(a.diffValue=1,i!==s&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}n.length=i,e.newObserving_=null,o=t.length;for(;o--;){var u=t[o];0===u.diffValue&&xo(u,e),u.diffValue=0}for(;i--;){var l=n[i];1===l.diffValue&&(l.diffValue=0,Co(l,e))}r!==so.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),yo(r),i}function go(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)xo(t[n],e);e.dependenciesState_=so.NOT_TRACKING_}function vo(e){var t=mo();try{return e()}finally{bo(t)}}function mo(){var e=Ao.trackingDerivation;return Ao.trackingDerivation=null,e}function bo(e){Ao.trackingDerivation=e}function _o(e){var t=Ao.allowStateReads;return Ao.allowStateReads=e,t}function yo(e){Ao.allowStateReads=e}function wo(e){if(e.dependenciesState_!==so.UP_TO_DATE_){e.dependenciesState_=so.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=so.UP_TO_DATE_}}var Po=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},So=!0,Io=!1,Ao=function(){var e=hr();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(So=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Po).version&&(So=!1),So?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Po):(setTimeout((function(){Io||dr(35)}),1),new Po)}();function Co(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function xo(e,t){e.observers_.delete(t),0===e.observers_.size&&Mo(e)}function Mo(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Ao.pendingUnobservations.push(e))}function Ro(){Ao.inBatch++}function Oo(){if(0==--Ao.inBatch){ko();for(var e=Ao.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof oo&&n.suspend_())}Ao.pendingUnobservations=[]}}function Eo(e){var t=Ao.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&Ao.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&Ao.inBatch>0&&Mo(e),!1)}function No(e){e.lowestObserverState_!==so.STALE_&&(e.lowestObserverState_=so.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===so.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=so.STALE_})))}var Do=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=so.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=ao.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Ao.pendingReactions.push(this),ko())},t.runReaction_=function(){if(!this.isDisposed){Ro(),this.isScheduled=!1;var e=Ao.trackingContext;if(Ao.trackingContext=this,fo(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}Ao.trackingContext=e,Oo()}},t.track=function(e){if(!this.isDisposed){Ro();0,this.isRunning=!0;var t=Ao.trackingContext;Ao.trackingContext=this;var n=ho(this,e,void 0);Ao.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&go(this),co(n)&&this.reportExceptionInDerivation_(n.cause),Oo()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(Ao.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";Ao.suppressReactionErrors||console.error(n,e),Ao.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Ro(),go(this),Oo()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[ti]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},Gr(e,[{key:"isDisposed",get:function(){return Vr(this.flags_,e.isDisposedMask_)},set:function(t){this.flags_=Wr(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return Vr(this.flags_,e.isScheduledMask_)},set:function(t){this.flags_=Wr(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return Vr(this.flags_,e.isTrackPendingMask_)},set:function(t){this.flags_=Wr(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return Vr(this.flags_,e.isRunningMask_)},set:function(t){this.flags_=Wr(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return Vr(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=Wr(this.flags_,e.diffValueMask_,1===t)}}])}();Do.isDisposedMask_=1,Do.isScheduledMask_=2,Do.isTrackPendingMask_=4,Do.isRunningMask_=8,Do.diffValueMask_=16;var Uo=100,To=function(e){return e()};function ko(){Ao.inBatch>0||Ao.isRunningReactions||To(Lo)}function Lo(){Ao.isRunningReactions=!0;for(var e=Ao.pendingReactions,t=0;e.length>0;){++t===Uo&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Ao.isRunningReactions=!1}var jo=Dr("Reaction",Do);var Bo="action",Fo="autoAction",Vo="<unnamed action>",Wo=li(Bo),$o=li("action.bound",{bound:!0}),Ko=li(Fo,{autoAction:!0}),Go=li("autoAction.bound",{autoAction:!0,bound:!0});function Ho(e){return function(t,n){return Cr(t)?Qi(t.name||Vo,t,e):Cr(n)?Qi(t,n,e):ei(n)?(e?Ko:Wo).decorate_20223_(t,n):xr(n)?Qr(t,n,e?Ko:Wo):xr(t)?Zr(li(e?Fo:Bo,{name:t,autoAction:e})):void 0}}var Jo=Ho(!1);Object.assign(Jo,Wo);var qo=Ho(!0);function zo(e){return Cr(e)&&!0===e.isMobxAction}function Yo(e,t){var n,r,i,o;void 0===t&&(t=yr);var s,a=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)s=new Do(a,(function(){this.track(c)}),t.onError,t.requiresObservable);else{var u=Zo(t),l=!1;s=new Do(a,(function(){l||(l=!0,u((function(){l=!1,s.isDisposed||s.track(c)})))}),t.onError,t.requiresObservable)}function c(){e(s)}return null!=(i=t)&&null!=(i=i.signal)&&i.aborted||s.schedule_(),s.getDisposer_(null==(o=t)?void 0:o.signal)}Object.assign(qo,Ko),Jo.bound=Zr($o),qo.bound=Zr(Go);var Xo=function(e){return e()};function Zo(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Xo}var Qo="onBO",es="onBUO";function ts(e,t,n){return ns(es,e,t,n)}function ns(e,t,n,r){var i="function"==typeof r?pa(t,n):pa(t),o=Cr(r)?r:n,s=e+"L";return i[s]?i[s].add(o):i[s]=new Set([o]),function(){var e=i[s];e&&(e.delete(o),0===e.size&&delete i[s])}}var rs="always";function is(e){!0===e.isolateGlobalState&&function(){if((Ao.pendingReactions.length||Ao.inBatch||Ao.isRunningReactions)&&dr(36),Io=!0,So){var e=hr();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),Ao=new Po}}();var t,n,r=e.useProxies,i=e.enforceActions;if(void 0!==r&&(Ao.useProxies=r===rs||"never"!==r&&"undefined"!=typeof Proxy),"ifavailable"===r&&(Ao.verifyProxies=!0),void 0!==i){var o=i===rs?rs:"observed"===i;Ao.enforceActions=o,Ao.allowStateChanges=!0!==o&&o!==rs}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(Ao[t]=!!e[t])})),Ao.allowStateReads=!Ao.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=To,To=function(e){return t((function(){return n(e)}))})}function os(e,t,n,r){var i=Fr(t);return va((function(){var t=Ys(e,r)[ti];Lr(i).forEach((function(e){t.extend_(e,i[e],!n||(!(e in n)||n[e]))}))})),e}var ss=0;function as(){this.message="FLOW_CANCELLED"}as.prototype=Object.create(Error.prototype);var us=hi("flow"),ls=hi("flow.bound",{bound:!0}),cs=Object.assign((function(e,t){if(ei(t))return us.decorate_20223_(e,t);if(xr(t))return Qr(e,t,us);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++ss,o=Jo(r+" - runid: "+i+" - init",n).apply(this,t),s=void 0,a=new Promise((function(t,n){var a=0;function u(e){var t;s=void 0;try{t=Jo(r+" - runid: "+i+" - yield "+a++,o.next).call(o,e)}catch(e){return n(e)}c(t)}function l(e){var t;s=void 0;try{t=Jo(r+" - runid: "+i+" - yield "+a++,o.throw).call(o,e)}catch(e){return n(e)}c(t)}function c(e){if(!Cr(null==e?void 0:e.then))return e.done?t(e.value):(s=Promise.resolve(e.value)).then(u,l);e.then(c,n)}e=n,u(void 0)}));return a.cancel=Jo(r+" - runid: "+i+" - cancel",(function(){try{s&&fs(s);var t=o.return(void 0),n=Promise.resolve(t.value);n.then(Ar,Ar),fs(n),e(new as)}catch(t){e(t)}})),a};return i.isMobXFlow=!0,i}),us);function fs(e){Cr(e.cancel)&&e.cancel()}function ds(e){return!0===(null==e?void 0:e.isMobXFlow)}function ps(e,t){return!!e&&(void 0!==t?!!Qs(e)&&e[ti].values_.has(t):Qs(e)||!!e[ti]||ri(e)||jo(e)||uo(e))}function hs(e){return ps(e)}function gs(e,t){void 0===t&&(t=void 0),Ro();try{return e.apply(t)}finally{Oo()}}function vs(e){return e[ti]}cs.bound=Zr(ls);var ms={has:function(e,t){return vs(e).has_(t)},get:function(e,t){return vs(e).get_(t)},set:function(e,t,n){var r;return!!xr(t)&&(null==(r=vs(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!xr(t)&&(null==(n=vs(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=vs(e).defineProperty_(t,n))||r},ownKeys:function(e){return vs(e).ownKeys_()},preventExtensions:function(e){dr(13)}};function bs(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function _s(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Ir((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function ys(e,t){var n=mo();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&((t=r[i](t))&&!t.type&&dr(14),t);i++);return t}finally{bo(n)}}function ws(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Ps(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Ir((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Ss(e,t){var n=mo(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);bo(n)}}function Is(e,t,n){return va((function(){var r=Ys(e,n)[ti];null!=t||(t=function(e){return Br(e,Xr)||Er(e,Xr,Jr({},e[Xr])),e[Xr]}(e)),Lr(t).forEach((function(e){return r.make_(e,t[e])}))})),e}var As="splice",Cs="update",xs={get:function(e,t){var n=e[ti];return t===ti?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?Br(Os,t)?Os[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[ti];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){dr(15)}},Ms=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new ni(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return _s(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Ps(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&dr("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&dr(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&fa(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=_r),bs(this)){var o=ys(this,{object:this.proxy_,type:As,index:e,removedCount:t,added:n});if(!o)return _r;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var s=n.length-t;this.updateArrayLength_(i,s)}var a=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,a),this.dehanceValues_(a)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var s=0;s<n.length;s++)this.values_[e+s]=n[s];for(var a=0;a<o.length;a++)this.values_[e+n.length+a]=o[a];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=ws(this),o=i||r?{observableKind:"array",object:this.proxy_,type:Cs,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&Ss(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=ws(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:As,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&Ss(this,o)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&dr(17,e,n.length),e<n.length){this.atom_;var r=n[e];if(bs(this)){var i=ys(this,{type:Cs,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else{for(var o=new Array(e+1-n.length),s=0;s<o.length-1;s++)o[s]=void 0;o[o.length-1]=t,this.spliceWithArray_(n.length,0,o)}},e}();function Rs(e,t,n,r){return void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),Sr(),va((function(){var i=new Ms(n,t,r,!1);Nr(i.values_,ti,i);var o=new Proxy(i.values_,xs);return i.proxy_=o,e&&e.length&&i.spliceWithArray_(0,0,e),o}))}var Os={clear:function(){return this.splice(0)},replace:function(e){var t=this[ti];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[ti];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[ti].spliceWithArray_(e,t,n)},push:function(){for(var e=this[ti],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[ti].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[ti],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return Ao.trackingDerivation&&dr(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ao.trackingDerivation&&dr(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[ti],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function Es(e,t){"function"==typeof Array.prototype[e]&&(Os[e]=t(e))}function Ns(e){return function(){var t=this[ti];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Ds(e){return function(t,n){var r=this,i=this[ti];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Us(e){return function(){var t=this,n=this[ti];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}Es("at",Ns),Es("concat",Ns),Es("flat",Ns),Es("includes",Ns),Es("indexOf",Ns),Es("join",Ns),Es("lastIndexOf",Ns),Es("slice",Ns),Es("toString",Ns),Es("toLocaleString",Ns),Es("toSorted",Ns),Es("toSpliced",Ns),Es("with",Ns),Es("every",Ds),Es("filter",Ds),Es("find",Ds),Es("findIndex",Ds),Es("findLast",Ds),Es("findLastIndex",Ds),Es("flatMap",Ds),Es("forEach",Ds),Es("map",Ds),Es("some",Ds),Es("toReversed",Ds),Es("reduce",Us),Es("reduceRight",Us);var Ts=Dr("ObservableArrayAdministration",Ms);function ks(e){return Mr(e)&&Ts(e[ti])}var Ls={},js="add",Bs="delete",Fs=function(){function e(e,t,n){var r=this;void 0===t&&(t=si),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ti]=Ls,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,Cr(Map)||dr(18),va((function(){r.keysAtom_=ii("ObservableMap.keys()"),r.data_=new Map,r.hasMap_=new Map,e&&r.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!Ao.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new io(this.has_(e),ai,"ObservableMap.key?",!1);this.hasMap_.set(e,r),ts(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(bs(this)){var r=ys(this,{type:n?Cs:js,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,bs(this))&&!ys(this,{type:Bs,object:this,name:e}))return!1;if(this.has_(e)){var n=ws(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Bs,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return gs((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&Ss(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==Ao.UNCHANGED){var r=ws(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Cs,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&Ss(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,gs((function(){var r,i=new io(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=ws(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:js,object:this,name:e,newValue:t}:null;r&&Ss(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return Ws({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return Ws({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=Hr(this);!(n=r()).done;){var i=n.value,o=i[0],s=i[1];e.call(t,s,o,this)}},t.merge=function(e){var t=this;return Vs(e)&&(e=new Map(e)),gs((function(){var n,r,i;Rr(e)?function(e){var t=Object.keys(e);if(!kr)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return br.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):Ur(e)?(n=e,r=Object.getPrototypeOf(n),i=Object.getPrototypeOf(r),null!==Object.getPrototypeOf(i)&&dr(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&dr(20,e)})),this},t.clear=function(){var e=this;gs((function(){vo((function(){for(var t,n=Hr(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return gs((function(){for(var n,r=function(e){if(Ur(e)||Vs(e))return e;if(Array.isArray(e))return new Map(e);if(Rr(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return dr(21,e)}(e),i=new Map,o=!1,s=Hr(t.data_.keys());!(n=s()).done;){var a=n.value;if(!r.has(a))if(t.delete(a))o=!0;else{var u=t.data_.get(a);i.set(a,u)}}for(var l,c=Hr(r.entries());!(l=c()).done;){var f=l.value,d=f[0],p=f[1],h=t.data_.has(d);if(t.set(d,p),t.data_.has(d)){var g=t.data_.get(d);i.set(d,g),h||(o=!0)}}if(!o)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var v=t.data_.keys(),m=i.keys(),b=v.next(),_=m.next();!b.done;){if(b.value!==_.value){t.keysAtom_.reportChanged();break}b=v.next(),_=m.next()}t.data_=i})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return Ps(this,e)},t.intercept_=function(e){return _s(this,e)},Gr(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Vs=Dr("ObservableMap",Fs);function Ws(e){return e[Symbol.toStringTag]="MapIterator",Sa(e)}var $s={},Ks=function(){function e(e,t,n){var r=this;void 0===t&&(t=si),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[ti]=$s,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,Cr(Set)||dr(22),this.enhancer_=function(e,r){return t(e,r,n)},va((function(){r.atom_=ii(r.name_),e&&r.replace(e)}))}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;gs((function(){vo((function(){for(var t,n=Hr(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=Hr(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if((this.atom_,bs(this))&&!ys(this,{type:js,object:this,newValue:e}))return this;if(!this.has(e)){gs((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=!1,r=ws(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:js,object:this,newValue:e}:null;n,r&&Ss(this,i)}return this},t.delete=function(e){var t=this;if(bs(this)&&!ys(this,{type:Bs,object:this,oldValue:e}))return!1;if(this.has(e)){var n=ws(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Bs,object:this,oldValue:e}:null;return gs((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&Ss(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Hs({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{value:void 0,done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return Hs({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function(e){return Tr(e)&&!Gs(e)?e.intersection(this):new Set(this).intersection(e)},t.union=function(e){return Tr(e)&&!Gs(e)?e.union(this):new Set(this).union(e)},t.difference=function(e){return new Set(this).difference(e)},t.symmetricDifference=function(e){return Tr(e)&&!Gs(e)?e.symmetricDifference(this):new Set(this).symmetricDifference(e)},t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)},t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)},t.isDisjointFrom=function(e){return Tr(e)&&!Gs(e)?e.isDisjointFrom(this):new Set(this).isDisjointFrom(e)},t.replace=function(e){var t=this;return Gs(e)&&(e=new Set(e)),gs((function(){Array.isArray(e)||Tr(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&dr("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return Ps(this,e)},t.intercept_=function(e){return _s(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Gr(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Gs=Dr("ObservableSet",Ks);function Hs(e){return e[Symbol.toStringTag]="SetIterator",Sa(e)}var Js=Object.create(null),qs="remove",zs=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=Mi),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new ni("ObservableObject.keys"),this.isPlainObject_=Rr(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof oo)return n.set(t),!0;if(bs(this)){var r=ys(this,{type:Cs,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==Ao.UNCHANGED){var i=ws(this),o=i?{type:Cs,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&Ss(this,o)}return!0},t.get_=function(e){return Ao.trackingDerivation&&!Br(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),Br(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!Ao.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new io(e in this.target_,ai,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(ta(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[Xr])&&n[e])return;dr(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==br;){var i=vr(r,e);if(i){var o=t.make_(this,e,i,r);if(0===o)return;if(1===o)break}r=Object.getPrototypeOf(r)}ea(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);ta(this,n,e);var i=n.extend_(this,e,t,r);return i&&ea(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Ro();var r=this.delete_(e);if(!r)return r;if(bs(this)){var i=ys(this,{object:this.proxy_||this.target_,name:e,type:js,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=Jr({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else mr(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{Oo()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1),this.keysAtom_;try{Ro();var i=this.delete_(e);if(!i)return i;if(bs(this)){var o=ys(this,{object:this.proxy_||this.target_,name:e,type:js,newValue:t});if(!o)return null;t=o.newValue}var s=Zs(e),a={configurable:!Ao.safeDescriptors||this.isPlainObject_,enumerable:!0,get:s.get,set:s.set};if(r){if(!Reflect.defineProperty(this.target_,e,a))return!1}else mr(this.target_,e,a);var u=new io(t,n,"ObservableObject.key",!1);this.values_.set(e,u),this.notifyPropertyAddition_(e,u.value_)}finally{Oo()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Ro();var r=this.delete_(e);if(!r)return r;if(bs(this))if(!ys(this,{object:this.proxy_||this.target_,name:e,type:js,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Zs(e),o={configurable:!Ao.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else mr(this.target_,e,o);this.values_.set(e,new oo(t)),this.notifyPropertyAddition_(e,void 0)}finally{Oo()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!Br(this.target_,e))return!0;if(bs(this)&&!ys(this,{object:this.proxy_||this.target_,name:e,type:qs}))return null;try{var n;Ro();var r,i=ws(this),o=this.values_.get(e),s=void 0;if(!o&&i)s=null==(r=vr(this.target_,e))?void 0:r.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(o&&(this.values_.delete(e),o instanceof io&&(s=o.value_),No(o)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_),i){var a={type:qs,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};0,i&&Ss(this,a)}}finally{Oo()}return!0},t.observe_=function(e,t){return Ps(this,e)},t.intercept_=function(e){return _s(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r=ws(this);if(r){var i=r?{type:js,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,r&&Ss(this,i)}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Lr(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Ys(e,t){var n;if(Br(e,ti))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new zs(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:Ri(e):void 0}(t));return Er(e,ti,i),e}var Xs=Dr("ObservableObjectAdministration",zs);function Zs(e){return Js[e]||(Js[e]={get:function(){return this[ti].getObservablePropValue_(e)},set:function(t){return this[ti].setObservablePropValue_(e,t)}})}function Qs(e){return!!Mr(e)&&Xs(e[ti])}function ea(e,t,n){var r;null==(r=e.target_[Xr])||delete r[n]}function ta(e,t,n){}var na,ra,ia=la(0),oa=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),sa=0,aa=function(){};na=aa,ra=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(na.prototype,ra):void 0!==na.prototype.__proto__?na.prototype.__proto__=ra:na.prototype=ra;var ua=function(e){function t(t,n,r,i){var o;return void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this,va((function(){var e=new Ms(r,n,i,!0);e.proxy_=o,Nr(o,ti,e),t&&t.length&&o.spliceWithArray(0,0,t),oa&&Object.defineProperty(o,"0",ia)})),o}qr(t,e);var n=t.prototype;return n.concat=function(){this[ti].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return ks(e)?e.slice():e})))},n[Symbol.iterator]=function(){var e=this,t=0;return Sa({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Gr(t,[{key:"length",get:function(){return this[ti].getArrayLength_()},set:function(e){this[ti].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(aa);function la(e){return{enumerable:!1,configurable:!0,get:function(){return this[ti].get_(e)},set:function(t){this[ti].set_(e,t)}}}function ca(e){mr(ua.prototype,""+e,la(e))}function fa(e){if(e>sa){for(var t=sa;t<e+100;t++)ca(t);sa=e}}function da(e,t,n){return new ua(e,t,n)}function pa(e,t){if("object"==typeof e&&null!==e){if(ks(e))return void 0!==t&&dr(23),e[ti].atom_;if(Gs(e))return e.atom_;if(Vs(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||dr(25,t,ga(e)),n}if(Qs(e)){if(!t)return dr(26);var r=e[ti].values_.get(t);return r||dr(27,t,ga(e)),r}if(ri(e)||uo(e)||jo(e))return e}else if(Cr(e)&&jo(e[ti]))return e[ti];dr(28)}function ha(e,t){return e||dr(29),void 0!==t?ha(pa(e,t)):ri(e)||uo(e)||jo(e)||Vs(e)||Gs(e)?e:e[ti]?e[ti]:void dr(24,e)}function ga(e,t){var n;if(void 0!==t)n=pa(e,t);else{if(zo(e))return e.name;n=Qs(e)||Vs(e)||Gs(e)?ha(e):pa(e)}return n.name_}function va(e){var t=mo(),n=no(!0);Ro();try{return e()}finally{Oo(),ro(n),bo(t)}}Object.entries(Os).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&Er(ua.prototype,t,n)})),fa(1e3);var ma,ba=br.toString;function _a(e,t,n){return void 0===n&&(n=-1),ya(e,t,n)}function ya(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var s=ba.call(e);if(s!==ba.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=wa(e),t=wa(t);var a="[object Array]"===s;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,l=t.constructor;if(u!==l&&!(Cr(u)&&u instanceof u&&Cr(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return i[c]===t;if(r.push(e),i.push(t),a){if((c=e.length)!==t.length)return!1;for(;c--;)if(!ya(e[c],t[c],n-1,r,i))return!1}else{var f,d=Object.keys(e);if(c=d.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!Br(t,f=d[c])||!ya(e[f],t[f],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function wa(e){return ks(e)?e.slice():Ur(e)||Vs(e)||Tr(e)||Gs(e)?Array.from(e.entries()):e}var Pa=(null==(ma=hr().Iterator)?void 0:ma.prototype)||{};function Sa(e){return e[Symbol.iterator]=Ia,Object.assign(Object.create(Pa),e)}function Ia(){return this}["Symbol","Map","Set"].forEach((function(e){void 0===hr()[e]&&dr("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:ga},$mobx:ti});class Aa{constructor(e,t,n){this.$w=e,this.stateService=t,this.experiments=n,Xe()(this,"menuItems",void 0),Xe()(this,"menuContext",void 0),this.menuItems=(e=>Jn(e).menuItems)(this.$w),Is(this,{menuItems:Ki})}setNotificationsCount(){var e;if(!this.experiments.enabled(De.EnableNotifications))return;const t=null==(e=this.stateService.notificationsCounter)||null==(e=e.counters)?void 0:e.find((e=>"notificationsCount"===e.key)),n=null==t?void 0:t.count;this.$w(We).forEach((e=>{var t;null!=(t=e.navBarItems)&&t.length&&(e.navBarItems=[{...e.navBarItems[0],displayCount:n}])}))}bindMenuItems(){this.$w(We).menuItems=this.menuItems}filterMenuItemsVisibleForRoles(){const{routes:e}=this.menuContext,{currentUserRoles:t}=this.menuContext;this.menuItems=this.menuItems.filter((n=>{var r;const i=((e,t)=>e.find((e=>{var n;return null==(n=t.link)?void 0:n.includes(e.path)})))(e,n);return null==i||null==(r=i.vfr)||!r.length||((e,t)=>!t.length||e.some((e=>t.includes(e))))(t,i.vfr)}))}}const Ca=["{userName}","my"];class xa extends Aa{constructor(e,t,n){super(e,t,n),Is(this,{initializeMenuItems:Jo})}initializeMenuItems(e){if(this.menuContext=e,this.menuContext.cacheService.hasLoginMenuItems())return this.menuItems=this.menuContext.cacheService.getLoginMenuItems(),void this.bindMenuItems();this.filterMenuItemsVisibleForRoles(),this.fillMenuItemsWithSlugs(),this.setNotificationsCount(),this.menuContext.cacheService.setLoginMenuItems(this.menuItems),this.bindMenuItems()}fillMenuItemsWithSlugs(){var e;const{currentUser:t}=this.menuContext,n=(null==t||null==(e=t.profile)?void 0:e.slug)??(null==t?void 0:t.id);n&&(this.menuItems=this.menuItems.map((e=>this.updateMenuItemWithMemberSlug(e,n))))}updateMenuItemWithMemberSlug(e,t){const n=this.getSlugPlaceholderFromMenuItem(e);return this.isValidSlugPlaceholder(n)?this.replaceLinkInMenuItem(e,t):e}isValidSlugPlaceholder(e){return Ca.includes(e)}replaceLinkInMenuItem(e,t){const n=this.getMemberPageRelativePathItemsFromMenuItem(e);if(!n.length)return e;const r=e.link.replace(n.join("/"),this.getMemberPageRelativePathWithMemberSlug(n,t));return{...e,link:r}}getMemberPageRelativePathWithMemberSlug(e,t){return e.map(((e,n)=>1===n?t:e)).join("/")}getSlugPlaceholderFromMenuItem(e){return this.getMemberPageRelativePathItemsFromMenuItem(e)[1]??""}getMemberPageRelativePathItemsFromMenuItem(e){const{membersAreaPagePrefix:t}=this.menuContext,n=e.link.indexOf(t);return e.link.slice(n).split("/")}}class Ma{constructor(e){this.siteAPI=e}async getMembersAreaPagePrefix(){const{prefixes:e}=await this.siteAPI.getSiteStructure(),t=e.find((e=>{let{applicationId:t}=e;return t===Ce.rH}));if(!t)throw new Error("Error: missing members area page - failed to find prefix");return t.prefix}}class Ra{constructor(e,t){this.contextProps=e,this.contextServices=t,Xe()(this,"routes",[]),Xe()(this,"currentUser",null),Xe()(this,"currentUserRoles",[]),Xe()(this,"notificationsCounter",null),this.contextProps=e,this.contextServices=t,Is(this,{routes:Ki,currentUser:Ki,currentUserRoles:Ki,notificationsCounter:Ki,fetchCurrentUser:Jo,fetchCurrentUserRoles:Jo,fetchRouteConfigurations:Jo,fetchNotificationsCounters:Jo})}async fetchCurrentUser(){const{cacheService:e,currentUserService:t}=this.contextServices;e.hasCurrentUser()?this.currentUser=e.getCurrentUser():(this.currentUser=await t.getCurrentUser(),e.setCurrentUser(this.currentUser))}async fetchCurrentUserRoles(){var e;const{cacheService:t,rolesService:n}=this.contextServices;t.hasRoles()?this.currentUserRoles=t.getRoles():(this.currentUserRoles=await n.getMemberRoles((null==(e=this.currentUser)?void 0:e.id)??null),t.setRoles(this.currentUserRoles))}async fetchRouteConfigurations(){var e,t;const{experiments:n}=this.contextProps.flowAPI,{cacheService:r}=this.contextServices;if(r.hasRoutes())return void(this.routes=r.getRoutes());const i=et.getGlobalControllerConfig(),o=n.enabled(De.EnablePublicAppData),s=null==i?void 0:i.appParams,a=null==i||null==(e=i.config)?void 0:e.routes,u=o?null==s||null==(t=s.publicData)||null==(t=t.APP)?void 0:t.routes:void 0;this.routes=u??a??[],r.setRoutes(this.routes)}async fetchNotificationsCounters(){var e,t;const{controllerConfig:n,experiments:r}=this.contextProps.flowAPI;if(!r.enabled(De.EnableNotifications))return;const i=await wn({memberId:null==(e=this.currentUser)?void 0:e.contactId,metaSiteId:null==(t=n.platformAPIs.bi)?void 0:t.metaSiteId,flowAPI:this.contextProps.flowAPI,wixCodeApi:this.contextProps.wixCodeApi});this.notificationsCounter=i}}class Oa extends Ra{constructor(e,t){super(e,t),Xe()(this,"membersAreaPagePrefix",""),Is(this,{membersAreaPagePrefix:Ki,fetchMembersAreaPagePrefix:Jo,fetchInitialData:Jo})}async fetchMembersAreaPagePrefix(){const{pageService:e}=this.contextServices,t=await e.getMembersAreaPagePrefix();this.membersAreaPagePrefix=t.replace("/","")}async fetchInitialData(){const{isSSR:e}=this.contextProps.flowAPI.environment;if(e){await this.fetchDataWrapper();const{currentUser:e,currentUserRoles:t,routes:n,membersAreaPagePrefix:r,notificationsCounter:i}=this;return this.contextServices.warmupDataService.setData(Be,JSON.stringify({currentUser:e,currentUserRoles:t,routes:n,membersAreaPagePrefix:r,notificationsCounter:i}))}const t=this.contextServices.warmupDataService.getData(Be),n=t?JSON.parse(t):null;return n?(this.currentUser=n.currentUser,this.currentUserRoles=n.currentUserRoles,this.routes=n.routes,this.membersAreaPagePrefix=n.membersAreaPagePrefix,void(this.notificationsCounter=n.notificationsCounter)):this.fetchDataWrapper()}async fetchDataWrapper(){await this.fetchCurrentUser(),await Promise.all([this.fetchRouteConfigurations(),this.fetchCurrentUserRoles(),this.fetchMembersAreaPagePrefix(),this.fetchNotificationsCounters()])}}const Ea=async e=>{const{contextProps:t,contextServices:n}=(e=>{const{flowAPI:t,controllerConfig:n}=e,{wixCodeApi:r,appParams:i,$w:o}=n,s={$w:o,flowAPI:t,wixCodeApi:r,appParams:i},{currentUserService:a,rolesService:u,cacheService:l,warmupDataService:c}=fr({flowAPI:t,controllerConfig:n}),f=new Ma(r.site),d=new Oa(s,{currentUserService:a,cacheService:l,rolesService:u,warmupDataService:c,pageService:f});return{contextProps:s,contextServices:{currentUserService:a,cacheService:l,rolesService:u,menuService:new xa(o,d,t.experiments),stateService:d}}})(e),{environment:r}=t.flowAPI,{user:i}=t.wixCodeApi,{stateService:o,cacheService:s,menuService:a}=n,u=i.currentUser.loggedIn&&!r.isEditor;return{async pageReady(){u&&(await o.fetchInitialData(),a.initializeMenuItems({...o,cacheService:s})),((e,t)=>{e.wixCodeApi.user.onLogin((async()=>{await t.stateService.fetchInitialData(),t.menuService.initializeMenuItems({...t.stateService,cacheService:t.cacheService})}))})(t,n),et.setMembersLoginWidgets([...et.getMembersLoginWidgets(),...Jn(t.$w)])}}};class Na extends Aa{constructor(e,t,n){super(e,t,n),Is(this,{initializeMenuItems:Jo})}initializeMenuItems(e){if(this.menuContext=e,this.menuContext.cacheService.hasLoginMenuItems())return this.menuItems=this.menuContext.cacheService.getLoginMenuItems(),void this.bindMenuItems();this.filterMenuItemsVisibleForRoles(),this.setNotificationsCount(),this.menuContext.cacheService.setLoginMenuItems(this.menuItems),this.bindMenuItems()}}class Da extends Ra{constructor(e,t){super(e,t),this.contextProps=e,this.contextServices=t,Is(this,{fetchInitialData:Jo})}async fetchInitialData(){const{isSSR:e}=this.contextProps.flowAPI.environment;if(e){await this.fetchDataWrapper();const{currentUser:e,currentUserRoles:t,routes:n,notificationsCounter:r}=this;return this.contextServices.warmupDataService.setData(Be,JSON.stringify({currentUser:e,currentUserRoles:t,routes:n,notificationsCounter:r}))}const t=this.contextServices.warmupDataService.getData(Be),n=t?JSON.parse(t):null;return n?(this.currentUser=n.currentUser,this.currentUserRoles=n.currentUserRoles,this.routes=n.routes,void(this.notificationsCounter=n.notificationsCounter)):this.fetchDataWrapper()}async fetchDataWrapper(){await this.fetchCurrentUser(),await Promise.all([this.fetchRouteConfigurations(),this.fetchCurrentUserRoles(),this.fetchNotificationsCounters()])}}const Ua=async e=>{const{contextProps:t,contextServices:n}=(e=>{const{flowAPI:t,controllerConfig:n}=e,{wixCodeApi:r,appParams:i,$w:o}=n,s={$w:o,flowAPI:t,wixCodeApi:r,appParams:i},{currentUserService:a,rolesService:u,cacheService:l,warmupDataService:c}=fr({flowAPI:t,controllerConfig:n}),f=new Da(s,{currentUserService:a,cacheService:l,rolesService:u,warmupDataService:c});return{contextProps:s,contextServices:{currentUserService:a,cacheService:l,rolesService:u,menuService:new Na(o,f,t.experiments),stateService:f}}})(e),{environment:r}=t.flowAPI,{user:i}=t.wixCodeApi,{stateService:o,cacheService:s,menuService:a}=n,u=i.currentUser.loggedIn&&!r.isEditor;return{async pageReady(){u&&(await o.fetchInitialData(),a.initializeMenuItems({...o,cacheService:s})),((e,t)=>{e.wixCodeApi.user.onLogin((async()=>{await t.stateService.fetchInitialData(),t.menuService.initializeMenuItems({...t.stateService,cacheService:t.cacheService})}))})(t,n),et.setMembersLoginWidgets([...et.getMembersLoginWidgets(),...Jn(t.$w)])}}},Ta=async e=>(await(async(e,t)=>{const[n,r]=await Promise.all([Me(e.controllerConfig.wixCodeApi),xe(e.controllerConfig.wixCodeApi)]);return n?Ua:r||(e=>{var t;return null==e||null==(t=e.connections)||null==(t=t[0])||null==(t=t.config)?void 0:t.isMembersAreaV2})(t)?Ea:Hn})(e.flowAPI,e.controllerConfig))(e),ka=async e=>{let{controllerConfig:t,appData:n,flowAPI:r}=e;const{wixCodeApi:i,$w:o}=t,s="Editor"===i.window.viewMode,a=t;return Bn(a),{async pageReady(){const e=await(null==n?void 0:n.initApplication());i.user.onLogin((t=>Je("onLogin",(()=>Fn(t,r.httpClient).then((()=>kn(a,e,r)))))())),s?r.environment.isMobile&&Vn(o,i,e.parsedRouters):kn(a,e,r)}}};var La,ja,Ba;!function(e){e.About="14dbef06-cc42-5583-32a7-3abd44da4908",e.MyAccount="14cffd81-5215-0a7f-22f8-074b0e2401fb",e.Members="14dbefd2-01b4-fb61-32a7-3abd44da4908",e.Blog="14bcded7-0066-7c35-14d7-466cb3f09103",e.FileShare="1537b24e-29d1-6d8f-b8e1-d6860f2f70b9",e.Followers="14ebe801-d78a-daa9-c9e5-0286a891e46f",e.Forum="14724f35-6794-cd1a-0244-25fd138f9242",e.Addresses="1505b775-e885-eb1b-b665-1e485d9bf90e",e.Bookings="13d21c63-b5ec-5912-8397-c3a5ddb27a97",e.Events="140603ad-af8d-84a5-2c80-a0f60cb47351",e.Stores="1380b703-ce81-ff05-f115-39571d94dfcd",e.Wallet="4aebd0cb-fbdb-4da7-b5d1-d05660a30172",e.Notifications="14f25924-5664-31b2-9568-f9c5ed98c9b1",e.Settings="14f25dc5-6af3-5420-9568-f9c5ed98c9b1",e.SharedGallery="476dc2dd-e16e-43b0-a0aa-1a486c78fbe2",e.Subscriptions="2bef2abe-7abe-43da-889c-53c1500a328c",e.ProfilePageBob="b976560c-3122-4351-878f-453f337b7245",e.Programs="2936472a-a1ed-4ae5-9f71-614313a9f4e7",e.Rewards="16ed1ac6-01cb-4fb6-a59e-c215cce8fdf6",e.Groups="148c2287-c669-d849-d153-463c7486a694",e.TestVertical="567d5e7e-4224-4488-a24b-d1ee5f691e54",e.ContributorProfile="f9694946-7e53-4ab4-9cc7-21d275993d39"}(La||(La={})),function(e){e.MemberPage="member_page",e.SettingsPage="member_settings_page",e.About="about",e.MyAccount="member_info",e.FollowingFollowers="following_followers",e.FollowingFollowersLightbox="following_followers_modal",e.MyRewards="My Rewards",e.ForumPosts="member-posts-page",e.ForumComments="member-comments-page",e.Events="events_members_page",e.BlogComments="member-comments-page",e.BlogLikes="member-likes-page",e.BlogPosts="member-posts-page",e.BlogDrafts="member-drafts-page",e.MyPosts="My Posts",e.MyChallenges="My Challenges",e.MyPrograms="My Programs",e.MySubscriptions="My Subscriptions",e.MyBookings="bookings_member_area",e.Notifications="notifications_app",e.MyAddresses="my_addresses",e.MyOrders="order_history",e.MyWallet="my_wallet",e.Settings="settings",e.SharedGallery="Gallery",e.FileShare="wix_file_share_members_page",e.MyWishlist="wishlist",e.ContributorProfile="contributor-profile",e.Groups="My Groups",e.TestPublic="test-vertical-public-widget",e.TestPrivate="test-vertical-private-widget",e.ProfilePageBob="test-profile-page-bob"}(ja||(ja={})),function(e){e.About="14dbefb9-3b7b-c4e9-53e8-766defd30587",e.MyAccount="14dd1af6-3e02-63db-0ef2-72fbc7cc3136",e.MyRewards="c85a2896-9f7c-4cf1-9bf8-95852cc5219a",e.Groups="e018cc55-7b1c-4500-a2e5-969f22c8a33a",e.ForumPosts="14f0266c-e0a3-afc6-d07c-5be8e20949cd",e.ForumComments="14f51b00-3ada-272e-b6db-34d5da9dd623",e.Events="405eb115-a694-4e2b-abaa-e4762808bb93",e.FollowingFollowers="14ebe825-b273-0d5f-0fd1-e6293322b83b",e.FollowingFollowersLightbox="a26fd26a-3dd9-42ca-b381-326a9c143e38",e.BlogComments="14f260f9-c2eb-50e8-9b3c-4d21861fe58f",e.BlogLikes="14f26109-514f-f9a8-9b3c-4d21861fe58f",e.BlogPosts="14f26118-b65b-b1c1-b6db-34d5da9dd623",e.BlogDrafts="14f260e4-ea13-f861-b0ba-4577df99b961",e.MyPosts="e5a2773b-0e6b-4cbb-a012-3b4a69e92046",e.MyChallenges="384628b7-c716-4410-8fc5-4e2bd5aad178",e.MyPrograms="c88902a1-7fbf-4ff1-b19a-af39c48bc740",e.MySubscriptions="b29db04a-a8f2-4bfe-bbad-21c99c1054b5",e.MyBookings="14edb332-fdb9-2fe6-0fd1-e6293322b83b",e.Notifications="14f2595a-a352-3ff1-9b3c-4d21861fe58f",e.Settings="14f25dd2-f9b0-edc2-f38e-eded5da094aa",e.MyAddresses="151290e1-62a2-0775-6fbc-02182fad5dec",e.MyOrders="14e121c8-00a3-f7cc-6156-2c82a2ba8fcb",e.MyWallet="6467c15e-af3c-4e8d-b167-41bfb8efc32a",e.SharedGallery="11b7884b-eba1-4a47-b5c8-7afb395f966a",e.FileShare="35a4cb97-c8cd-4ee9-ac3c-89c13c8493d6",e.TestPublic="eed51e05-c783-4506-9fb3-0f5c47d6dea2",e.TestPrivate="cc87eeb5-95a9-4f49-b7c3-5246eb39fee0",e.MyWishlist="a63a5215-8aa6-42af-96b1-583bfd74cff5",e.ContributorProfile="",e.ProfileCard="14cefc05-d163-dbb7-e4ec-cd4f2c4d6ddd",e.MemberPage="596a6688-3ad7-46f7-bb9c-00023225876d",e.SettingsPage="2f6c5608-393f-4b15-bfd8-d4e15396787a"}(Ba||(Ba={}));Ba.About,ja.About,La.About,Ba.MyAccount,ja.MyAccount,La.MyAccount,Ba.MyRewards,ja.MyRewards,La.Rewards,Ba.Groups,ja.Groups,La.Groups,Ba.ForumPosts,ja.ForumPosts,La.Forum,Ba.ForumComments,ja.ForumComments,La.Forum,Ba.Events,ja.Events,La.Events,Ba.FollowingFollowers,ja.FollowingFollowers,La.Followers,Ba.FollowingFollowersLightbox,ja.FollowingFollowersLightbox,La.ProfilePageBob,Ba.BlogComments,ja.BlogComments,La.Blog,Ba.BlogLikes,ja.BlogLikes,La.Blog,Ba.BlogPosts,ja.BlogPosts,La.Blog,Ba.BlogDrafts,ja.BlogDrafts,La.Blog,Ba.MyPosts,ja.MyPosts,La.Blog,Ba.MyChallenges,ja.MyChallenges,La.Programs,Ba.MyPrograms,ja.MyPrograms,La.Programs,Ba.MySubscriptions,ja.MySubscriptions,La.Subscriptions,Ba.MyBookings,ja.MyBookings,La.Bookings,Ba.Notifications,ja.Notifications,La.Notifications,Ba.MyAddresses,ja.MyAddresses,La.Addresses,Ba.MyOrders,ja.MyOrders,La.Stores,Ba.MyWishlist,ja.MyWishlist,La.Stores,Ba.MyWallet,ja.MyWallet,La.Wallet,Ba.Settings,ja.Settings,La.Settings,Ba.SharedGallery,ja.SharedGallery,La.SharedGallery,Ba.FileShare,ja.FileShare,La.FileShare,Ba.TestPublic,ja.TestPublic,La.TestVertical,Ba.TestPrivate,ja.TestPrivate,La.TestVertical,Ba.ContributorProfile,ja.ContributorProfile,La.ContributorProfile,Ba.ProfileCard,ja.MyAccount,La.MyAccount,Ba.MemberPage,ja.MemberPage,La.ProfilePageBob,Ba.SettingsPage,ja.SettingsPage,La.ProfilePageBob,Ba.About,Ba.MyAccount,Ce.xA,Ce.dn,Ba.BlogLikes,Ce.dn,Ba.BlogComments,Ce.dn,Ba.BlogPosts,Ba.ContributorProfile,Ba.FileShare,Ba.FollowingFollowers,Ce.rH,Ba.FollowingFollowersLightbox,Ce.tt,Ba.ForumComments,Ce.tt,Ba.ForumPosts,Ba.MyAddresses,Ce.DI,Ba.MyBookings,Ce.dn,Ba.BlogDrafts,Ce.dn,Ba.MyPosts,Ce.sV,Ba.Events,Ce.ZJ,Ba.MyOrders,Ba.MyWallet,Ce.ZJ,Ba.MyWishlist,Ce.wn,Ba.Notifications,Ba.Settings,Ba.SharedGallery,Ba.MySubscriptions,Ba.MyChallenges,Ba.MyPrograms,Ba.MyRewards,Ba.SettingsPage,Ba.MemberPage,Ba.Groups,Ba.TestPublic,Ba.TestPrivate;var Fa;!function(e){e.Profile="profile",e.Settings="settings",e.Standalone="standalone",e.Lightbox="lightbox"}(Fa||(Fa={}));class Va{constructor(e,t,n,r,i){this.routes=e,this.settingsRoutes=t,this.location=n,this.site=r,this.window=i}async hasSocialPages(e,t){const n=await this.getRoutes(e);if(!n.length)return Promise.resolve(!1);const r=n.some((e=>!e.private));return null==e||e(r),Promise.resolve(r)}async getRoutes(e){return null==e||e(this.routes),Promise.resolve(this.routes)}async getSettingsRoutes(e){return null==e||e(this.settingsRoutes),Promise.resolve(this.settingsRoutes)}async navigateToSection(e,t){var n,r;let{memberId:i="",tpaInnerRoute:o="",widgetId:s,appDefinitionId:a}=e;if(!s){var u,l;const e=await this.getPageUrlByAppDefId(a,t);return null==(u=(l=this.location).to)||u.call(l,e),Promise.resolve()}const c=await this.findRouteByWidgetId(s,t);if(!c)throw null==t||t(Ne.CannotFindPageToNavigateTo),new Error(Ne.CannotFindPageToNavigateTo);const f=await this.getMembersAreaSectionURL({suffix:c.path,memberId:i,tpaInnerRoute:o,onError:t});var d,p;return s===Ba.FollowingFollowers?(null==(d=(p=this.location).to)||d.call(p,`${this.location.baseUrl}${f}`),Promise.resolve()):(null==(n=(r=this.location).to)||n.call(r,f),Promise.resolve())}async navigateToMember(e,t){let{memberId:n,memberSlug:r}=e;if(!n)throw null==t||t(Ne.MissingMemberId),new Error(Ne.MissingMemberId);const i=await this.getNavigableHomePage(t);if(!i)throw null==t||t(Ne.CannotNavigateToMemberNoPublicPage),new Error(Ne.CannotNavigateToMemberNoPublicPage);{var o,s;const e=await this.getMembersAreaSectionURL({suffix:i.suffix,memberId:r||n,onError:t});null==(o=(s=this.location).to)||o.call(s,e)}return Promise.resolve()}async getNavigatableRoles(e){const t=await this.getNavigableHomePage(e);if(t){return{navigatableMembersRoles:t.visibleForRoles??[],isNavigationAllowed:!0}}return{navigatableMembersRoles:[],isNavigationAllowed:!1}}async getSectionUrl(e,t){let{widgetId:n,memberId:r="",memberSlug:i="",tpaInnerRoute:o="",appDefinitionId:s}=e;if(!n)return this.getPageUrlByAppDefId(s,t);let a=this.location.baseUrl;"/"===a.slice(-1)&&(a=a.slice(0,-1));const u=await this.findRouteByWidgetId(n,t);if(!u)throw null==t||t(`${Ne.RouteNotFound} ${n}`),new Error(`${Ne.RouteNotFound} ${n}`);return`${a}${await this.getMembersAreaSectionURL({suffix:u.path,memberId:r,memberSlug:i,tpaInnerRoute:o,onError:t})}`}async getMemberPagePrefix(e,t,n){return{prefix:await this.getMembersAreaPagePrefix(n)}}setNotificationCount(e){return et.getMembersLoginWidgets().forEach((t=>{var n;null!=(n=t.navBarItems)&&n.length&&(t.navBarItems=[{...t.navBarItems[0],displayCount:e>0?e:null}])})),Promise.resolve()}getIsMembersAreaSeoEnabled(){return Promise.resolve(!0)}async isAppSectionInstalled(e){let{widgetId:t}=e;return!!await this.findRouteByWidgetId(t)}async openLightbox(e,t){const n=await this.getLightboxIdByTpaPageId(e);if(!n)throw new Error(`Lightbox ${e} is not installed`);return this.window.openLightboxById(n,t)}async getInstalledLightboxes(){const{lightboxes:e}=await this.getSiteStructure();return e.map((e=>{let{tpaPageId:t}=e;return t}))}async getPageUrlByAppDefId(e,t){const{pages:n}=await this.getSiteStructure(),r=n.find((t=>t.applicationId===e&&!t.prefix));if(null==r||!r.url)throw null==t||t(Ne.CannotFindPageToNavigateTo),new Error(Ne.CannotFindPageToNavigateTo);return r.url}async getNavigableHomePage(e){const t=(await this.getRoutes()).filter((e=>!e.private));if(!t.length)return;const n=t.find((e=>e.home)),r=await this.getMembersAreaPagePrefix(e);if(n)return{prefix:r,suffix:n.path,visibleForRoles:n.vfr};{const e=t[0];return{prefix:r,suffix:e.path,visibleForRoles:e.vfr}}}getSiteStructure(){return this.site.getSiteStructure({includePageId:!0})}async getMembersAreaPagePrefix(e){const{prefixes:t}=await this.getSiteStructure(),n=t.find((e=>{let{applicationId:t}=e;return t===Oe}));if(!n)throw null==e||e(Ne.MissingMembersAreaPage),new Error(Ne.MissingMembersAreaPage);return n.prefix}async getMembersAreaSectionURL(e){let{suffix:t,memberId:n,memberSlug:r,tpaInnerRoute:i,onError:o}=e;const s=n?`/${r||n}/${t}`:`/${t}`,a=`${await this.getMembersAreaPagePrefix(o)}${s}`;if(!i)return a;return`${a}${"/"!==(null==i?void 0:i.charAt(0))?`/${i}`:i}`}async findRouteByWidgetId(e,t){return(await this.getRoutes()).find((t=>t.widgetId===e))}async getLightboxIdByTpaPageId(e){const{lightboxes:t}=await this.getSiteStructure(),n=t.find((t=>t.tpaPageId===e));return null==n?void 0:n.id}}const Wa=()=>et.getWixCodeAPI().site.getPublicAPI(Oe),$a=()=>{const e=(()=>{var e;const t=(null==(e=et.getGlobalControllerConfig())||null==(e=e.config)?void 0:e.routes)??[],n=et.getRoutes();return n.length?n:t})(),t=et.getSettingsRoutes(),n=et.getWixCodeAPI();if(null==e||!e.length)throw new Error(Ne.MissingRoutes);if(!n)throw new Error(Ne.NotInitializedWixCodeApi);return new Va(e,t,n.location,n.site,n.window)};class Ka{constructor(e,t,n,r,i){this.routes=e,this.settingsRoutes=t,this.location=n,this.site=r,this.window=i}async hasSocialPages(e,t){const n=(await this.getRoutes(e)).length>0;return null==e||e(n),Promise.resolve(n)}async getRoutes(e){return null==e||e(this.routes),Promise.resolve(this.routes)}async getSettingsRoutes(e){return null==e||e(this.settingsRoutes),Promise.resolve(this.settingsRoutes)}async navigateToSection(e,t){let{memberId:n="",tpaInnerRoute:r="",widgetId:i,appDefinitionId:o,sectionId:s}=e;const a=await this.findRouteByWidgetId(i);return a?this.navigateByRoute({routeData:a,memberId:n,tpaInnerRoute:r,widgetId:i},t):this.navigateByPagePath({appDefinitionId:o,sectionId:s},t)}async navigateToMember(e,t){let{memberId:n,memberSlug:r}=e;if(!n)throw null==t||t(Ne.MissingMemberId),new Error(Ne.MissingMemberId);const i=await this.getNavigableHomePage(t);if(!i)throw null==t||t(Ne.CannotNavigateToMemberNoPublicPage),new Error(Ne.CannotNavigateToMemberNoPublicPage);{var o,s;const e=await this.getMembersAreaSectionURL({suffix:i.suffix,memberId:r||n},t);null==(o=(s=this.location).to)||o.call(s,e)}return Promise.resolve()}async getNavigatableRoles(e){const t=await this.getNavigableHomePage(e);if(t){return{navigatableMembersRoles:t.visibleForRoles??[],isNavigationAllowed:!0}}return{navigatableMembersRoles:[],isNavigationAllowed:!1}}async getSectionUrl(e,t){let{appDefinitionId:n,sectionId:r,memberId:i,memberSlug:o,widgetId:s,tpaInnerRoute:a}=e;const u=await this.findRouteByWidgetId(s);if(u){const e=await this.getMembersAreaSectionURL({suffix:u.route.path,memberId:i,memberSlug:o,tpaInnerRoute:a},t);return this.prependBaseUrl(e)}const{url:l}=await this.site.getSectionUrl({appDefinitionId:n,sectionId:r});if(!l)throw null==t||t(Ne.SectionUrlNotFound),new Error(Ne.SectionUrlNotFound);return l}async getMemberPagePrefix(e,t,n){return{prefix:await this.getMembersAreaPagePrefix(n)}}setNotificationCount(e){return et.getMembersLoginWidgets().forEach((t=>{var n;null!=(n=t.navBarItems)&&n.length&&(t.navBarItems=[{...t.navBarItems[0],displayCount:e}])})),Promise.resolve()}getIsMembersAreaSeoEnabled(){return Promise.resolve(!0)}async isAppSectionInstalled(e){let{appDefinitionId:t,sectionId:n,widgetId:r}=e;return!(!await this.findRouteByWidgetId(r)&&!await this.findPage({appDefinitionId:t,sectionId:n}))}async openLightbox(e,t){const n=await this.getLightboxIdByTpaPageId(e);if(!n)throw new Error(`Lightbox ${e} is not installed`);return this.window.openLightboxById(n,t)}async getInstalledLightboxes(){const{lightboxes:e}=await this.getSiteStructure();return e.map((e=>{let{tpaPageId:t}=e;return t}))}async getPagePath(e){const t=await this.findPage(e);return null==t?void 0:t.url}async findPage(e){let{appDefinitionId:t,sectionId:n}=e;const{pages:r}=await this.getSiteStructure();return r.find((e=>e.applicationId===t&&e.tpaPageId===n&&!e.prefix))}async prependBaseUrl(e){let t=this.location.baseUrl;return"/"===t.slice(-1)&&(t=t.slice(0,-1)),`${t}${e}`}async getNavigableHomePage(e){const t=(await this.getRoutes()).filter((e=>!e.private));if(!t.length)return;const n=t.find((e=>e.home)),r=await this.getMembersAreaPagePrefix(e);if(n)return{prefix:r,suffix:n.path,visibleForRoles:n.vfr};{const e=t[0];return{prefix:r,suffix:e.path,visibleForRoles:e.vfr}}}getSiteStructure(){return this.site.getSiteStructure({includePageId:!0})}async getMembersAreaPagePrefix(e){const t=await this.findPage({appDefinitionId:Oe,sectionId:"member_page"});if(null==t||!t.url)throw null==e||e(Ne.MissingMembersAreaPage),new Error(Ne.MissingMembersAreaPage);return t.url}async getMemberSettingsPagePrefix(e){const t=await this.findPage({appDefinitionId:Oe,sectionId:"member_settings_page"});if(null==t||!t.url)throw null==e||e(Ne.MissingMembersAreaSettingsPage),new Error(Ne.MissingMembersAreaSettingsPage);return t.url}async getMembersAreaSectionURL(e,t){let{suffix:n,memberId:r,memberSlug:i,tpaInnerRoute:o}=e;const s=r?`/${i||r}/${n}`:`/${n}`,a=`${await this.getMembersAreaPagePrefix(t)}${s}`;if(!o)return a;return`${a}${"/"!==(null==o?void 0:o.charAt(0))?`/${o}`:o}`}async getMemberSettingsSectionURL(e,t){return`${await this.getMemberSettingsPagePrefix(t)}/${e}`}async findRouteByWidgetId(e){const t=(await this.getRoutes()).find((t=>t.widgetId===e));if(t)return{route:t,type:je.Profile};const n=(await this.getSettingsRoutes()).find((t=>t.widgetId===e));return n?{route:n,type:je.Settings}:null}async navigateToMembersAreaSection(e,t){var n,r;let{suffix:i,memberId:o,tpaInnerRoute:s,widgetId:a}=e;const u=await this.getMembersAreaSectionURL({suffix:i,memberId:o,tpaInnerRoute:s},t);var l,c;return a===Ba.FollowingFollowers?(null==(l=(c=this.location).to)||l.call(c,`${this.location.baseUrl}${u}`),Promise.resolve()):(null==(n=(r=this.location).to)||n.call(r,u),Promise.resolve())}async navigateToMemberSettingsSection(e,t){var n,r;const i=await this.getMemberSettingsSectionURL(e,t);return null==(n=(r=this.location).to)||n.call(r,i),Promise.resolve()}async navigateByRoute(e,t){let{routeData:n,memberId:r,widgetId:i,tpaInnerRoute:o}=e;switch(n.type){case je.Profile:return this.navigateToMembersAreaSection({suffix:n.route.path,memberId:r,tpaInnerRoute:o,widgetId:i},t);case je.Settings:return this.navigateToMemberSettingsSection(n.route.path,t)}}async navigateByPagePath(e,t){var n,r;let{appDefinitionId:i,sectionId:o}=e;const s=await this.getPagePath({appDefinitionId:i,sectionId:o});if(!s)throw null==t||t(Ne.CannotFindPageToNavigateTo),new Error(Ne.CannotFindPageToNavigateTo);return null==(n=(r=this.location).to)||n.call(r,s),Promise.resolve()}async getLightboxIdByTpaPageId(e){const{lightboxes:t}=await this.getSiteStructure(),n=t.find((t=>t.tpaPageId===e));return null==n?void 0:n.id}}const Ga=async()=>{const e=et.getWixCodeAPI();return await e.site.getPublicAPI(Oe)},Ha=()=>{const e=et.getSettingsRoutes(),t=et.getRoutes(),n=et.getWixCodeAPI();if(!n)throw new Error(Ne.NotInitializedWixCodeApi);return new Ka(t,e,n.location,n.site,n.window)},Ja=(e,t,n)=>{const r=new cr(t.window.warmupData);let i=null;return{getAppData:()=>(i||(i=async function(e){let{wixCodeApi:t,appParams:n,flowAPI:r,warmupDataService:i}=e;const o=On.getCurrentUser(),s=On.getRoles(),a=On.getViewedUser(),u=o.loggedIn&&0===Object.keys(s).length,l=null==t.site.getAppToken?void 0:t.site.getAppToken(n.appDefinitionId),c="backend"===t.window.rendering.env,f=(n.appRouters||[]).map((e=>({...e,config:JSON.parse(e.config)}))),d=f.map((e=>e.config)),p=async()=>{const[e,n,i]=await Promise.all([Un(l,c),u?Tn(l,r.httpClient):{},En.getPermittedPagesMap(yt(f),t.window.viewMode)]);return{counters:e,roles:n,permittedPagesMap:i}};let h;r.environment.isSSR?(h=await p(),i.setData(Be,h)):h=i.getData(Be)||await p();const{counters:g,roles:v,permittedPagesMap:m}=h;u&&On.setRoles(v);const b=ze(n),_=On.getRoles()[o.id]||[],y=On.getRoles()[a.id]||[],w=f.find((e=>"public"===e.config.type)),P=(null==w?void 0:w.prefix)??"";return{counters:g,permittedPagesMap:m,parsedRouters:f,parsedRoutersConfigs:d,parsedConfigItems:b,currentUserRoles:_,viewedUserRoles:y,publicRouterPrefix:P}}({appParams:e,wixCodeApi:t,flowAPI:n,warmupDataService:r})),i)}};var qa=function(e){return e.V1="v1",e.V2="v2",e.V3="v3",e}(qa||{});is({isolateGlobalState:!0});const za={[qa.V1]:()=>({hasSocialPages:(e,t)=>Je("publicApi.hasSocialPages",(()=>Rn.hasSocialPages(e,t)))(),getViewedUser:(e,t)=>Je("publicApi.getViewedUser",(()=>Rn.getViewedUser(e,t)))(),navigateToSection:(e,t)=>Je("publicApi.navigateToSection",(()=>Rn.navigateToSection(e,t)))(),navigateToMember:(e,t)=>Je("publicApi.navigateToMember",(()=>Rn.navigateToMember(e,t)))(),getNavigatableRoles:e=>Je("publicApi.getNavigatableRoles",(()=>Rn.getNavigatableRoles(e)))(),getSectionUrl:(e,t)=>Je("publicApi.getSectionUrl",(()=>Rn.getSectionUrl(e,t)))(),getMemberPagePrefix:(e,t,n)=>Je("publicApi.getMemberPagePrefix ",(()=>Rn.getMemberPagePrefix(e,t,n)))(),setNotificationCount:e=>Je("publicApi.setNotificationCount",(()=>Rn.setNotificationCount({config:xn,userService:On,displayCount:e})))(),enterPublicProfilePreviewMode:()=>Je("publicApi.enterPublicProfilePreviewMode",(()=>Rn.enterPublicProfilePreviewMode({userService:On,config:xn})))(),leavePublicProfilePreviewMode:()=>Je("publicApi.leavePublicProfilePreviewMode",(()=>Rn.leavePublicProfilePreviewMode({userService:On,config:xn})))(),openBlockedMemberEmptyState:async()=>{throw new Error("openBlockedMemberEmptyState is only supported in members area v2")},clearMenus:()=>Je("publicApi.clearMenus",(()=>Rn.clearMenus({config:xn})))(),getRoutes:()=>{throw new Error("getRoutes is only supported in members area v2")},getSettingsRoutes:()=>{throw new Error("getRoutes is only supported in members area v3")},getIsMembersAreaSeoEnabled:()=>Je("publicApi.getIsMembersAreaSeoEnabled",(()=>Rn.getIsMembersAreaSeoEnabled({config:Mn})))(),isAppSectionInstalled:e=>Je("publicApi.isAppSectionInstalled",(()=>Rn.isAppSectionInstalled(e)))(),openLightbox:()=>{throw new Error("openLightbox is only supported in members area v2 and v3")},getInstalledLightboxes:()=>Promise.resolve([])}),[qa.V2]:()=>({hasSocialPages:(e,t)=>Je("publicApi.hasSocialPages",(()=>$a().hasSocialPages(e,t)))(),getViewedUser:(e,t)=>Je("publicApi.getViewedUser",(async()=>(await Wa()).getViewedUser(e,t)))(),navigateToSection:(e,t)=>Je("publicApi.navigateToSection",(()=>$a().navigateToSection(e,t)))(),navigateToMember:(e,t)=>Je("publicApi.navigateToMember",(()=>$a().navigateToMember(e,t)))(),getNavigatableRoles:e=>Je("publicApi.getNavigatableRoles",(()=>$a().getNavigatableRoles(e)))(),getSectionUrl:(e,t)=>Je("publicApi.getSectionUrl",(()=>$a().getSectionUrl(e,t)))(),getMemberPagePrefix:(e,t,n)=>Je("publicApi.getMemberPagePrefix ",(()=>$a().getMemberPagePrefix(e,t,n)))(),setNotificationCount:e=>Je("publicApi.setNotificationCount",(()=>$a().setNotificationCount(e)))(),enterPublicProfilePreviewMode:()=>Je("publicApi.enterPublicProfilePreviewMode",(async()=>(await Wa()).enterPublicProfilePreviewMode()))(),leavePublicProfilePreviewMode:()=>Je("publicApi.leavePublicProfilePreviewMode",(async()=>(await Wa()).leavePublicProfilePreviewMode()))(),openBlockedMemberEmptyState:()=>Je("publicApi.openBlockedMemberEmptyState",(async()=>(await Wa()).openBlockedMemberEmptyState()))(),clearMenus:()=>Je("publicApi.clearMenus",(async()=>(await Wa()).clearMenus()))(),getRoutes:e=>Je("publicApi.getRoutes",(()=>$a().getRoutes(e)))(),getSettingsRoutes:e=>Je("publicApi.getSettingsRoutes",(()=>$a().getSettingsRoutes(e)))(),getIsMembersAreaSeoEnabled:()=>Je("publicApi.getIsMembersAreaSeoEnabled",(()=>$a().getIsMembersAreaSeoEnabled()))(),isAppSectionInstalled:e=>Je("publicApi.isAppSectionInstalled",(()=>$a().isAppSectionInstalled(e)))(),openLightbox:(e,t)=>Je("publicApi.openLightbox",(()=>$a().openLightbox(e,t)))(),getInstalledLightboxes:()=>Je("publicApi.getInstalledLightboxes",(()=>$a().getInstalledLightboxes()))()}),[qa.V3]:()=>({hasSocialPages:(e,t)=>Je("v3.publicApi.hasSocialPages",(()=>Ha().hasSocialPages(e,t)))(),getViewedUser:(e,t)=>Je("v3.publicApi.getViewedUser",(async()=>(await Ga()).getViewedUser(e,t)))(),navigateToSection:(e,t)=>Je("v3.publicApi.navigateToSection",(()=>Ha().navigateToSection(e,t)))(),navigateToMember:(e,t)=>Je("v3.publicApi.navigateToMember",(()=>Ha().navigateToMember(e,t)))(),getNavigatableRoles:e=>Je("v3.publicApi.getNavigatableRoles",(()=>Ha().getNavigatableRoles(e)))(),getSectionUrl:(e,t)=>Je("v3.publicApi.getSectionUrl",(()=>Ha().getSectionUrl(e,t)))(),getMemberPagePrefix:(e,t,n)=>Je("v3.publicApi.getMemberPagePrefix ",(()=>Ha().getMemberPagePrefix(e,t,n)))(),setNotificationCount:e=>Je("v3.publicApi.setNotificationCount",(()=>Ha().setNotificationCount(e)))(),enterPublicProfilePreviewMode:()=>Je("v3.publicApi.enterPublicProfilePreviewMode",(async()=>(await Ga()).enterPublicProfilePreviewMode()))(),leavePublicProfilePreviewMode:()=>Je("v3.publicApi.leavePublicProfilePreviewMode",(async()=>(await Ga()).leavePublicProfilePreviewMode()))(),openBlockedMemberEmptyState:()=>Je("v3.publicApi.openBlockedMemberEmptyState",(async()=>(await Ga()).openBlockedMemberEmptyState()))(),clearMenus:()=>Je("v3.publicApi.clearMenus",(async()=>(await Ga()).clearMenus()))(),getRoutes:e=>Je("v3.publicApi.getRoutes",(()=>Ha().getRoutes(e)))(),getSettingsRoutes:e=>Je("v3.publicApi.getSettingsRoutes",(()=>Ha().getSettingsRoutes(e)))(),getIsMembersAreaSeoEnabled:()=>Je("v3.publicApi.getIsMembersAreaSeoEnabled",(()=>Ha().getIsMembersAreaSeoEnabled()))(),isAppSectionInstalled:e=>Je("v3.publicApi.isAppSectionInstalled",(()=>Ha().isAppSectionInstalled(e)))(),openLightbox:(e,t)=>Je("v3.publicApi.openLightbox",(()=>Ha().openLightbox(e,t)))(),getInstalledLightboxes:()=>Je("v3.publicApi.getInstalledLightboxes",(()=>Ha().getInstalledLightboxes()))()})},Ya=async()=>{const e=await(async()=>{const e=et.getWixCodeAPI(),[t,n]=await Promise.all([Me(e),xe(e)]);return t?qa.V3:n?qa.V2:qa.V1})();return(0,za[e])()},Xa=async(e,t,n,r,i)=>{var o;const s=null==(o=e.publicData)?void 0:o.APP,a=(null==s?void 0:s.routes)??[],u=(null==s?void 0:s.settingsRoutes)??[];((e,t)=>{const n=Math.random();He=.1>=n,Ke=t.monitoring.createMonitor("https://fe0974951f45411fbe57fbbd7c30bbf2@sentry.wixpress.com/28"),Ke&&Ke.setUserContext({msid:t.bi.metaSiteId}),Ge=t.fedOpsLoggerFactory.getLoggerForWidget({appName:"santa-members-viewer-app",appId:e.appDefinitionId})})(e,r),et.setFlowAPI(i),et.setWixCodeAPI(n),et.setRoutes(a),et.setSettingsRoutes(u);const l=Ja(e,n,i),c=Je("initAppForPage",(()=>Dn(e,t,n,i,r)))();return{initApplication:async()=>(await c,l.getAppData())}},Za=()=>Ya();var Qa={disabled:{on:"disable",off:"enable"},hidden:{on:"hide",off:"show"},collapsed:{on:"collapse",off:"expand"},deleted:{on:"delete",off:"restore"}};var eu,tu,nu=function(e,t,n){return void 0===n&&(n=[]),function(r,i){if(!i)throw new Error("No selector found "+r);var o=n.length>0?function(e,t,n){if(!e||"object"!=typeof e)return n;for(var r=e,i=0,o=t;i<o.length;i++){var s=o[i];if(!r||"object"!=typeof r)return n;r=r[s]}return void 0!==r?r:n}(e(r),n):e(r),s=[],a="data"in i;a&&function(e,t,n){if(void 0!==t){var r={};e.onItemReady(n.action((function(e,i,o){var s=nu(e,n),a=t(i,s,o);if(a){var u=ru(e,n)(a);r[i._id]=u}}))),e.onItemRemoved(n.action((function(e){r[e._id]()})))}}(o,i.item,t);var u=function(e){return"currentState"in e}(i);if(u&&i.currentState){var l=t.reaction(i.currentState,(function(e){o.changeState(e)}),{fireImmediately:!0});s.push(l)}for(var c=function(i,l){if(void 0===l)return"continue";if(a&&"item"===i)return"continue";if(u&&"currentState"===i)return"continue";if(i.startsWith("on"))return o[i](t.action(l)),"continue";var c=J(n,[i]);if(function(e){return"object"==typeof e}(l)){var f=nu(e,t,c)(r,l);return s.push(f),"continue"}if(i){var d=t.reaction(l,(function(t){if(s=o,(a=i)in Qa&&Qa[a].on in s&&Qa[a].off in s){var n=function(e){return Qa[e]}(i)[t?"on":"off"];o[n]&&o[n]()}else!function(e,t,n){if(!e||"object"!=typeof e)return e;var r=J(t),i=r.pop();if(i){for(var o=e,s=0,a=r;s<a.length;s++){var u=a[s];o[u]&&"object"==typeof o[u]||(o[u]={}),o=o[u]}o[i]=n}}(e(r),c,t);var s,a}),{fireImmediately:!0});s.push(d)}},f=0,d=Object.entries(i);f<d.length;f++){var p=d[f];c(p[0],p[1])}return function(){return s.forEach((function(e){return e()}))}}},ru=function(e,t){return function(n){for(var r=nu(e,t),i=[],o=0,s=Object.entries(n);o<s.length;o++){var a=s[o],u=a[0],l=a[1];if(l){var c=r(u,l);i.push(c)}}return function(){return i.forEach((function(e){return e()}))}}},iu=function(e){return function(t){if(!t)throw new Error("Trying to initialize state without $w.");return{$bindAll:ru(t,e),$bind:nu(t,e)}}},ou=function(e,t){var n,r;return null!==(r=null===(n=t.observable)||void 0===n?void 0:n.call(t,e))&&void 0!==r?r:e},su=function(e){return function(t){if(!t)throw new Error("Trying to initialize state without default state.");return{state:ou(t,e)}}};const au=e=>function(t){void 0===t&&(t={});const n="function"==typeof e.factory?e.factory(t):e;return function(e,t){return Object.defineProperty(t,"updateDefaults",{value:function(t){return e.updateDefaults(t)}}),t}(n,n.logger())},uu=au;var lu=e,cu=t,fu=i,du={initState:(eu={initState:su(tu={configure:function(){is({isolateGlobalState:!0})},observable:Ki,action:Jo,reaction:function(e,t,n){var r,i,o;void 0===n&&(n=yr);var s,a,u,l=null!=(r=n.name)?r:"Reaction",c=Jo(l,n.onError?(s=n.onError,a=t,function(){try{return a.apply(this,arguments)}catch(e){s.call(this,e)}}):t),f=!n.scheduler&&!n.delay,d=Zo(n),p=!0,h=!1,g=n.compareStructural?oi.structural:n.equals||oi.default,v=new Do(l,(function(){p||f?m():h||(h=!0,d(m))}),n.onError,n.requiresObservable);function m(){if(h=!1,!v.isDisposed){var t=!1,r=u;v.track((function(){var n=to(!1,(function(){return e(v)}));t=p||!g(u,n),u=n})),(p&&n.fireImmediately||!p&&t)&&c(u,r,v),p=!1}}return null!=(i=n)&&null!=(i=i.signal)&&i.aborted||v.schedule_(),v.getDisposer_(null==(o=n)?void 0:o.signal)}}),initBind:iu(tu)}).initState,initBind:eu.initBind,observable:Ki};const pu=!1;var hu={DSN:"https://1447e27dc6864379bd4824d259480b74@sentry-next.wixpress.com/7858",id:"undefined",projectName:"santa-members-viewer-app",teamName:"undefined",errorMonitor:!0},gu={enabled:!1,icuEnabled:!1},vu=null,mu=null;const bu=o.exports,_u=function(e){var t=e.initAppForPage,n=e.sentryConfig,r=void 0===n?null:n,i=e.experimentsConfig,o=void 0===i?null:i,s=e.inEditor,a=void 0!==s&&s,u=e.projectName,l=e.defaultTranslations,c=e.translationsConfig,d=e.biConfig,p=e.biLogger,h=e.appName,g=void 0===h?null:h,v=e.optionalDeps,m=e.localeDistPath,b=e.prepopulatedData,_=e.shouldUseEssentials;return function(e,n,i,s){return W(void 0,void 0,void 0,(function(){var h,y,w,P,S,I,A,C,x;return $(this,(function(M){switch(M.label){case 0:return[4,k(n.platformApiProvider)];case 1:return h=M.sent(),y=h.userAPI,w=h.windowAPI,P=h.siteAPI,S=h.seoAPI,I=new D({experimentsConfig:o,projectName:u,sentryConfig:r,platformBI:s.bi,biLoggerFactory:s.biLoggerFactory,essentials:s.essentials,monitoring:s.monitoring,userAPI:y,windowAPI:w,siteAPI:P,seoAPI:S,appData:e,translationsConfig:c,defaultTranslations:l,inEditor:a,biConfig:d,biLogger:p,appName:g,optionalDeps:v,localeDistPath:m,prepopulatedData:b,shouldUseEssentials:_,basePath:f()}),j(I),A=I.init(),B(A),[4,A];case 2:if(M.sent(),!t)return[3,6];M.label=3;case 3:return M.trys.push([3,5,,6]),[4,t(e,n,i,s,I)];case 4:return C=M.sent(),V(C),[3,6];case 5:throw x=M.sent(),a||(console.error('\u2757\ufe0fError \u{1f449} "'.concat(g,'" app \u{1f449} `viewer.app.ts` module \u2757\n'),x),I.reportError(x)),x;case 6:return[2,F()]}}))}))}}({initAppForPage:o.initAppForPage,sentryConfig:hu,experimentsConfig:{scopes:["members-area"],centralized:!0},inEditor:!1,biLogger:uu,multilingualDisabled:pu,projectName:"santa-members-viewer-app",biConfig:null,appName:"Members Area Viewer Script",appDefinitionId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",fedopsConfig:mu,translationsConfig:gu,defaultTranslations:vu,shouldUseEssentials:!0,optionalDeps:{initI18n:null,createHttpClient:null,createExperiments:null},localeDistPath:"assets/locales"}),yu=(wu={initI18n:null,blocksControllerService:null,createHttpClient:null,createExperiments:null,velocycleMobx:du},Pu=[{method:Gn,wrap:Ae,exports:lu,widgetType:"PLATFORM_WIDGET",translationsConfig:gu,multilingualDisabled:pu,experimentsConfig:{scopes:["members-area"],centralized:!0},fedopsConfig:mu,sentryConfig:hu,persistentAcrossPages:!1,biLogger:uu,shouldUseEssentials:!0,withErrorBoundary:!1,biConfig:null,controllerFileName:"/home/builduser/work/d58756a41851642f/packages/members-viewer-app/src/components/members/controller.ts",appName:"Members Area Viewer Script",appDefinitionId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",projectName:"santa-members-viewer-app",componentName:"members",localeDistPath:"assets/locales",defaultTranslations:vu,id:"members"},{method:Ta,wrap:Ae,exports:cu,widgetType:"PLATFORM_WIDGET",translationsConfig:gu,multilingualDisabled:pu,experimentsConfig:{scopes:["members-area"],centralized:!0},fedopsConfig:mu,sentryConfig:hu,persistentAcrossPages:!1,biLogger:uu,shouldUseEssentials:!0,withErrorBoundary:!1,biConfig:null,controllerFileName:"/home/builduser/work/d58756a41851642f/packages/members-viewer-app/src/components/members-login-bar/controller.ts",appName:"Members Area Viewer Script",appDefinitionId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",projectName:"santa-members-viewer-app",componentName:"members-login-bar",localeDistPath:"assets/locales",defaultTranslations:vu,id:"members-login-bar"},{method:ka,wrap:Ae,exports:fu,widgetType:"PLATFORM_WIDGET",translationsConfig:gu,multilingualDisabled:pu,experimentsConfig:{scopes:["members-area"],centralized:!0},fedopsConfig:mu,sentryConfig:hu,persistentAcrossPages:!1,biLogger:uu,shouldUseEssentials:!0,withErrorBoundary:!1,biConfig:null,controllerFileName:"/home/builduser/work/d58756a41851642f/packages/members-viewer-app/src/components/members-menu/controller.ts",appName:"Members Area Viewer Script",appDefinitionId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",projectName:"santa-members-viewer-app",componentName:"members-menu",localeDistPath:"assets/locales",defaultTranslations:vu,id:"members-menu"}],void 0===(Su=!0)&&(Su=!1),function(e,t){var n=[];e.forEach((function(e){var r,i=e.type,o=(r=i,Pu.find((function(e){return e.id===r})));if(o||function(e){var t,n,r;return(null===(t=e.appParams)||void 0===t?void 0:t.blocksData)||(null===(r=null===(n=e.appParams)||void 0===n?void 0:n.appData)||void 0===r?void 0:r.blocksPreviewData)}(e)&&(o={widgetType:s,method:null,exports:{}}),(null==o?void 0:o.widgetType)!==s&&!Su){var a=null==t?void 0:t[i];if(!a)return;if(!o){var u=function(e){return K(e)?null:e.descriptor}(a);if(!u)throw new Error("Can't resolve controller descriptor for \"".concat(i,'" controller.'));o=u}o.method=function(e){if(K(e))return e;var t=e[Object.keys(e).find((function(e){return e.toLowerCase().includes("controller")}))||"default"];if("function"!=typeof t)throw new Error("Seems like a bundle you have registered as Controller URL in Dev Center doesn't contain exported controller.\nPlease, verify you are using relevant controller bundle generated by editor flow.");return t}(a),o.wrap=function(e){return K(e)?null:e.wrap}(a)||void 0,o.exports=a}o&&n.push({controllerDescriptor:o,controllerConfig:e})}));var r=n.map((function(e){var t=e.controllerDescriptor,n=e.controllerConfig;if(t.wrap)return t.wrap(wu,t,n,C,x,F)}));return r});var wu,Pu,Su;const Iu=yu})(),r})()));
//# sourceMappingURL=viewerScript.bundle.min.js.map
//# sourceURL=https://static.parastorage.com/services/santa-members-viewer-app/1.2645.0/viewerScript.bundle.min.js